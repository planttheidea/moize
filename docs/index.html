<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>moize</title><meta name="description" content="Documentation for moize"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">moize</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>moize</h2></div>
<div class="tsd-panel tsd-typography"><blockquote>
<p>moize</p>
</blockquote>
<img src="https://img.shields.io/badge/build-passing-brightgreen.svg"/>
<img src="https://img.shields.io/badge/coverage-100%25-brightgreen.svg"/>
<img src="https://img.shields.io/badge/license-MIT-blue.svg"/>

<p><code>moize</code> is a <a href="#benchmarks">consistently blazing fast</a> memoization library for JavaScript. It handles multiple parameters (including default values) without any additional configuration, and offers a large number of options to satisfy any number of potential use-cases.</p>
<ul>
<li><a href="#importing">Importing</a><ul>
<li><a href="#esm-in-browsers">ESM in browsers</a></li>
<li><a href="#esm-in-nodejs">ESM in NodeJS</a></li>
<li><a href="#commonjs">CommonJS</a></li>
</ul>
</li>
<li><a href="#usage">Usage</a></li>
<li><a href="#configuration-options">Configuration options</a><ul>
<li><a href="#isdeepequal">isDeepEqual</a></li>
<li><a href="#ispromise">isPromise</a></li>
<li><a href="#isreact">isReact</a></li>
<li><a href="#isserialized">isSerialized</a></li>
<li><a href="#isshallowequal">isShallowEqual</a></li>
<li><a href="#matchesarg">matchesArg</a></li>
<li><a href="#matcheskey">matchesKey</a></li>
<li><a href="#maxage">maxAge</a></li>
<li><a href="#maxargs">maxArgs</a></li>
<li><a href="#maxsize">maxSize</a></li>
<li><a href="#oncacheadd">onCacheAdd</a></li>
<li><a href="#oncachechange">onCacheChange</a></li>
<li><a href="#oncachehit">onCacheHit</a></li>
<li><a href="#onexpire">onExpire</a></li>
<li><a href="#profilename">profileName</a></li>
<li><a href="#serializer">serializer</a></li>
<li><a href="#transformargs">transformArgs</a></li>
<li><a href="#updatecacheforkey">updateCacheForKey</a></li>
<li><a href="#updateexpire">updateExpire</a></li>
</ul>
</li>
<li><a href="#usage-with-shortcut-methods">Usage with shortcut methods</a><ul>
<li><a href="#moizedeep">moize.deep</a></li>
<li><a href="#moizeinfinite">moize.infinite</a></li>
<li><a href="#moizematchesarg">moize.matchesArg</a></li>
<li><a href="#moizematcheskey">moize.matchesKey</a></li>
<li><a href="#moizemaxage">moize.maxAge</a></li>
<li><a href="#moizemaxargs">moize.maxArgs</a></li>
<li><a href="#moizemaxsize">moize.maxSize</a></li>
<li><a href="#moizeprofile">moize.profile</a></li>
<li><a href="#moizepromise">moize.promise</a></li>
<li><a href="#moizereact">moize.react</a></li>
<li><a href="#moizeserialize">moize.serialize</a></li>
<li><a href="#moizeserializewith">moize.serializeWith</a></li>
<li><a href="#moizeshallow">moize.shallow</a></li>
<li><a href="#moizetransformargs">moize.transformArgs</a></li>
<li><a href="#moizeupdatecacheforkey">moize.updateCacheForKey</a></li>
</ul>
</li>
<li><a href="#usemoize-hook">useMoize hook</a></li>
<li><a href="#composition">Composition</a></li>
<li><a href="#collecting-statistics">Collecting statistics</a><ul>
<li><a href="#stats-methods">Stats methods</a></li>
<li><a href="#clearstats">clearStats</a></li>
<li><a href="#collectstats">collectStats</a></li>
<li><a href="#getstatsprofilename">getStats([profileName])</a></li>
</ul>
</li>
<li><a href="#introspection">Introspection</a><ul>
<li><a href="#iscollectingstats">isCollectingStats</a></li>
<li><a href="#ismoized">isMoized</a></li>
</ul>
</li>
<li><a href="#direct-cache-manipulation">Direct cache manipulation</a><ul>
<li><a href="#cache">cache</a></li>
<li><a href="#cachesnapshot">cacheSnapshot</a></li>
<li><a href="#addkey-value">add(key, value)</a></li>
<li><a href="#clear">clear()</a></li>
<li><a href="#getkey">get(key)</a></li>
<li><a href="#getstats">getStats()</a></li>
<li><a href="#haskey">has(key)</a></li>
<li><a href="#keys">keys()</a></li>
<li><a href="#removekey">remove(key)</a></li>
<li><a href="#updatekey-value">update(key, value)</a></li>
<li><a href="#values">values()</a></li>
</ul>
</li>
<li><a href="#benchmarks">Benchmarks</a></li>
<li><a href="#filesize">Filesize</a></li>
<li><a href="#browser-support">Browser support</a></li>
<li><a href="#development">Development</a></li>
</ul>
<pre><code><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">i</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> --</span><span class="hl-0">save</span>
</code></pre>

<a href="#importing" id="importing" style="color: inherit; text-decoration: none;">
  <h1>Importing</h1>
</a>

<a href="#esm-in-browsers" id="esm-in-browsers" style="color: inherit; text-decoration: none;">
  <h2>ESM in browsers</h2>
</a>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span>
</code></pre>

<a href="#esm-in-nodejs" id="esm-in-nodejs" style="color: inherit; text-decoration: none;">
  <h2>ESM in NodeJS</h2>
</a>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize/mjs/index.mjs&#39;</span><span class="hl-1">;</span>
</code></pre>

<a href="#commonjs" id="commonjs" style="color: inherit; text-decoration: none;">
  <h2>CommonJS</h2>
</a>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">moize</span><span class="hl-1"> = </span><span class="hl-6">require</span><span class="hl-1">(</span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">);</span>
</code></pre>

<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
  <h1>Usage</h1>
</a>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">method</span><span class="hl-1"> = (</span><span class="hl-0">a</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">, </span><span class="hl-0">b</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">a</span><span class="hl-1"> + </span><span class="hl-0">b</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">method</span><span class="hl-1">);</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-8">2</span><span class="hl-1">, </span><span class="hl-8">4</span><span class="hl-1">); </span><span class="hl-9">// 6</span><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-8">2</span><span class="hl-1">, </span><span class="hl-8">4</span><span class="hl-1">); </span><span class="hl-9">// 6, pulled from cache</span>
</code></pre>
<p>All parameter types are supported, including circular objects, functions, etc. There are also a number of <a href="#usage-with-shortcut-methods">shortcut methods</a> to memoize for unique use-cases.</p>

<a href="#configuration-options" id="configuration-options" style="color: inherit; text-decoration: none;">
  <h1>Configuration options</h1>
</a>
<p><code>moize</code> optionally accepts an object of options as either the second parameter or as the first step in a curried function:</p>
<pre><code class="language-ts"><span class="hl-9">// inline</span><br/><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, </span><span class="hl-0">options</span><span class="hl-1">);</span><br/><br/><span class="hl-9">// curried</span><br/><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">options</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>
<p>The full shape of these options:</p>
<pre><code class="language-ts"><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-7">Options</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-9">// is the cache based on deep equality of each key argument</span><br/><span class="hl-1">    </span><span class="hl-0">isDeepEqual</span><span class="hl-1">: </span><span class="hl-7">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">// is the result a promise</span><br/><span class="hl-1">    </span><span class="hl-0">isPromise</span><span class="hl-1">: </span><span class="hl-7">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">// is the result a React component</span><br/><span class="hl-1">    </span><span class="hl-0">isReact</span><span class="hl-1">: </span><span class="hl-7">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">// should the parameters be serialized instead of directly referenced</span><br/><span class="hl-1">    </span><span class="hl-0">isSerialized</span><span class="hl-1">: </span><span class="hl-7">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">// is the cache based on shallow equality of each key argument</span><br/><span class="hl-1">    </span><span class="hl-0">isShallowEqual</span><span class="hl-1">: </span><span class="hl-7">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">// custom method to compare equality between two key arguments</span><br/><span class="hl-1">    </span><span class="hl-6">matchesArg</span><span class="hl-1">: (</span><span class="hl-0">cachedKeyArg</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">, </span><span class="hl-0">keyArg</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-7">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">// custom method to compare equality across all key arguments</span><br/><span class="hl-1">    </span><span class="hl-6">matchesKey</span><span class="hl-1">: (</span><span class="hl-0">cachedKey</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">[], </span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">[]) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-7">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">// amount of time in milliseconds before the cache will expire</span><br/><span class="hl-1">    </span><span class="hl-0">maxAge</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">// maximum number of arguments passed to use as key for caching</span><br/><span class="hl-1">    </span><span class="hl-0">maxArgs</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">// maximum size of cache for this method</span><br/><span class="hl-1">    </span><span class="hl-0">maxSize</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">// method fired when a new entry is added to cache</span><br/><span class="hl-1">    </span><span class="hl-6">onCacheAdd</span><span class="hl-1">: (</span><br/><span class="hl-1">        </span><span class="hl-0">cache</span><span class="hl-1">: </span><span class="hl-7">moize</span><span class="hl-1">.</span><span class="hl-7">Cache</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">options</span><span class="hl-1">: </span><span class="hl-7">moize</span><span class="hl-1">.</span><span class="hl-7">Options</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">moized</span><span class="hl-1">: (...</span><span class="hl-0">args</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">[]) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-7">any</span><br/><span class="hl-1">    ) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-7">void</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">// method fire when either a new entry is added to cache or the LRU ordering of the cache has changed</span><br/><span class="hl-1">    </span><span class="hl-6">onCacheChange</span><span class="hl-1">: (</span><br/><span class="hl-1">        </span><span class="hl-0">cache</span><span class="hl-1">: </span><span class="hl-7">moize</span><span class="hl-1">.</span><span class="hl-7">Cache</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">options</span><span class="hl-1">: </span><span class="hl-7">moize</span><span class="hl-1">.</span><span class="hl-7">Options</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">moized</span><span class="hl-1">: (...</span><span class="hl-0">args</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">[]) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-7">any</span><br/><span class="hl-1">    ) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-7">void</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">// method fired when an existing entry in cache is used</span><br/><span class="hl-1">    </span><span class="hl-6">onCacheHit</span><span class="hl-1">: (</span><br/><span class="hl-1">        </span><span class="hl-0">cache</span><span class="hl-1">: </span><span class="hl-7">moize</span><span class="hl-1">.</span><span class="hl-7">Cache</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">options</span><span class="hl-1">: </span><span class="hl-7">moize</span><span class="hl-1">.</span><span class="hl-7">Options</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">moized</span><span class="hl-1">: (...</span><span class="hl-0">args</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">[]) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-7">any</span><br/><span class="hl-1">    ) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-7">void</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">// method to fire when a cache entry expires (in combination with maxAge)</span><br/><span class="hl-1">    </span><span class="hl-6">onExpire</span><span class="hl-1">: (</span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">[]) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-7">void</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">// the unique identifier to give the memoized method when collecting statistics</span><br/><span class="hl-1">    </span><span class="hl-0">profileName</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">// method to serialize the arguments to build a unique cache key</span><br/><span class="hl-1">    </span><span class="hl-6">serializer</span><span class="hl-1">: (</span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">[]) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">// method to transform the args into a custom format for key storage in cache</span><br/><span class="hl-1">    </span><span class="hl-6">transformArgs</span><span class="hl-1">: (</span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">[]) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-7">any</span><span class="hl-1">[];</span><br/><span class="hl-1">    </span><span class="hl-9">// should the cache entry be refreshed by calling the underlying function with the same parameters and</span><br/><span class="hl-1">    </span><span class="hl-9">// updating the value stored in cache to be the new result</span><br/><span class="hl-1">    </span><span class="hl-6">updateCacheForKey</span><span class="hl-1">: (</span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">[]) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-7">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">// should the cache entry&#39;s expiration be refreshed when the cache entry is hit (in combination with maxAge)</span><br/><span class="hl-1">    </span><span class="hl-0">updateExpire</span><span class="hl-1">: </span><span class="hl-7">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">};</span>
</code></pre>
<p>All default values can be found <a href="src/constants.ts">here</a>.</p>

<a href="#isdeepequal" id="isdeepequal" style="color: inherit; text-decoration: none;">
  <h2>isDeepEqual</h2>
</a>
<p><em>defaults to false</em></p>
<p>Should deep equality be used to compare cache each key argument.</p>
<pre><code class="language-ts"><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-7">Arg</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">one</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-0">nested</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">    </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = ({ </span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1"> }: </span><span class="hl-7">Arg</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">isDeepEqual:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">({ </span><span class="hl-0">one:</span><span class="hl-1"> { </span><span class="hl-0">nested:</span><span class="hl-1"> </span><span class="hl-3">&#39;one&#39;</span><span class="hl-1"> }, </span><span class="hl-0">two:</span><span class="hl-1"> </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1"> });</span><br/><span class="hl-6">memoized</span><span class="hl-1">({ </span><span class="hl-0">one:</span><span class="hl-1"> { </span><span class="hl-0">nested:</span><span class="hl-1"> </span><span class="hl-3">&#39;one&#39;</span><span class="hl-1"> }, </span><span class="hl-0">two:</span><span class="hl-1"> </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1"> }); </span><span class="hl-9">// pulls from cache</span>
</code></pre>
<p>This is also available via the shortcut method of <a href="#moizedeep"><code>moize.deep</code></a></p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">deep</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>

<a href="#ispromise" id="ispromise" style="color: inherit; text-decoration: none;">
  <h2>isPromise</h2>
</a>
<p><em>defaults to false</em></p>
<p>Is the computed value in the function a <code>Promise</code>.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = </span><span class="hl-4">async</span><span class="hl-1"> (</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt;) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">isPromise:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> });</span>
</code></pre>
<p>This is also available via the shortcut method of <a href="#moizepromise"><code>moize.promise</code></a>.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = -</span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">promise</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>
<p>The <code>Promise</code> itself will be stored in cache, so that cached returns will always maintain the <code>Promise</code> contract. For common usage reasons, if the <code>Promise</code> is rejected, the cache entry will be deleted.</p>

<a href="#isreact" id="isreact" style="color: inherit; text-decoration: none;">
  <h2>isReact</h2>
</a>
<p><em>defaults to false</em></p>
<p>Is the function passed a stateless functional <code>React</code> component.</p>
<pre><code class="language-tsx"><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-7">Props</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">Component</span><span class="hl-1"> = ({ </span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1"> }: </span><span class="hl-7">Props</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> (</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;</span><span class="hl-11">div</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-4">{</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-1">: </span><span class="hl-4">{</span><span class="hl-0">two</span><span class="hl-4">}</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;/</span><span class="hl-11">div</span><span class="hl-10">&gt;</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">MemoizedFoo</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">Component</span><span class="hl-1">, { </span><span class="hl-0">isReact:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> });</span>
</code></pre>
<p>This is also available via the shortcut method of <a href="#moizereact"><code>moize.react</code></a>.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">MemoizedFoo</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">react</span><span class="hl-1">(</span><span class="hl-0">Component</span><span class="hl-1">);</span>
</code></pre>
<p>The method will do a shallow equal comparison of both <code>props</code> and legacy <code>context</code> of the component based on strict equality. If you want to do a deep equals comparison, set <a href="#isdeepequal"><code>isDeepEqual</code></a> to true.</p>
<p><strong>NOTE</strong>: This will memoize on each instance of the component passed, which is equivalent to <code>PureComponent</code> or <code>React.memo</code>. If you want to
memoize on <em>all</em> instances (which is how this option worked prior to version 6), use the following options:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">Component</span><span class="hl-1">, { </span><span class="hl-0">isShallowEqual:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">, </span><span class="hl-0">maxArgs:</span><span class="hl-1"> </span><span class="hl-8">2</span><span class="hl-1"> });</span>
</code></pre>

<a href="#isserialized" id="isserialized" style="color: inherit; text-decoration: none;">
  <h2>isSerialized</h2>
</a>
<p><em>defaults to false</em></p>
<p>Serializes the parameters passed into a string and uses this as the key for cache comparison.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">mutableObject</span><span class="hl-1">: { </span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">Record</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">any</span><span class="hl-1">&gt; }) </span><span class="hl-4">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">mutableObject</span><span class="hl-1">.</span><span class="hl-0">property</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">isSerialized:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> });</span>
</code></pre>
<p>This is also available via the shortcut method of <a href="#moizeserialize"><code>moize.serialize</code></a>.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>
<p>If <code>serialize</code> is combined with either <code>maxArgs</code> or <code>transformArgs</code>, the following order is used:</p>
<ol>
<li>limit by <code>maxArgs</code> (if applicable)</li>
<li>transform by <code>transformArgs</code> (if applicable)</li>
<li>serialize by <code>serializer</code></li>
</ol>
<p><strong>NOTE</strong>: This is much slower than the default key storage, and usually the same requirements can be meet with <code>isDeepEqual</code>, so use at your discretion.</p>

<a href="#isshallowequal" id="isshallowequal" style="color: inherit; text-decoration: none;">
  <h2>isShallowEqual</h2>
</a>
<p><em>defaults to false</em></p>
<p>Should shallow equality be used to compare cache each key argument.</p>
<pre><code class="language-ts"><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-7">Arg</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = ({ </span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1"> }: </span><span class="hl-7">Arg</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">isShallowEqual:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">({ </span><span class="hl-0">one:</span><span class="hl-1"> </span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-0">two:</span><span class="hl-1"> </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1"> });</span><br/><span class="hl-6">memoized</span><span class="hl-1">({ </span><span class="hl-0">one:</span><span class="hl-1"> </span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-0">two:</span><span class="hl-1"> </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1"> }); </span><span class="hl-9">// pulls from cache</span>
</code></pre>
<p>This is also available via the shortcut method of <a href="#moizeshallow"><code>moize.shallow</code></a></p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">shallow</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>

<a href="#matchesarg" id="matchesarg" style="color: inherit; text-decoration: none;">
  <h2>matchesArg</h2>
</a>
<p><em>defaults to <a href="http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero">SameValueZero</a> equality</em></p>
<p>Custom method used to compare equality of keys for cache purposes by comparing each argument.</p>
<pre><code class="language-ts"><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-7">Arg</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = ({ </span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1"> }: </span><span class="hl-7">Arg</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">hasOneProperty</span><span class="hl-1"> = (</span><span class="hl-0">cacheKeyArg</span><span class="hl-1">: </span><span class="hl-7">Arg</span><span class="hl-1">, </span><span class="hl-0">keyArg</span><span class="hl-1">: </span><span class="hl-7">Arg</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-7">Object</span><span class="hl-1">.</span><span class="hl-6">keys</span><span class="hl-1">(</span><span class="hl-0">cacheKeyArg</span><span class="hl-1">).</span><span class="hl-0">length</span><span class="hl-1"> === </span><span class="hl-8">1</span><span class="hl-1"> &amp;&amp; </span><span class="hl-7">Object</span><span class="hl-1">.</span><span class="hl-6">keys</span><span class="hl-1">(</span><span class="hl-0">keyArg</span><span class="hl-1">).</span><span class="hl-0">length</span><span class="hl-1"> === </span><span class="hl-8">1</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">matchesArg:</span><span class="hl-1"> </span><span class="hl-0">hasOneProperty</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">({ </span><span class="hl-0">one:</span><span class="hl-1"> </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1"> };</span><br/><span class="hl-6">memoized</span><span class="hl-1">({ </span><span class="hl-0">two:</span><span class="hl-1"> </span><span class="hl-3">&#39;three&#39;</span><span class="hl-1"> }); </span><span class="hl-9">// pulls from cache</span>
</code></pre>
<p>This is also available via the shortcut method of <a href="#moizematchesarg"><code>moize.matchesArg</code></a></p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">matchesArg</span><span class="hl-1">(</span><span class="hl-0">hasOneProperty</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>
<p><strong>NOTE</strong>: This comparison is used iteratively on each argument, rather than comparing the two keys as a whole. If you want to compare the key as a whole, you should use <a href="#matcheskey"><code>matchesKey</code></a>.</p>

<a href="#matcheskey" id="matcheskey" style="color: inherit; text-decoration: none;">
  <h2>matchesKey</h2>
</a>
<p>Custom method used to compare equality of keys for cache purposes by comparing the entire key.</p>
<pre><code class="language-ts"><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-7">Arg</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = ({ </span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1"> }: </span><span class="hl-7">Arg</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">isFooEqualAndHasBar</span><span class="hl-1"> = (</span><span class="hl-0">cacheKey</span><span class="hl-1">: [</span><span class="hl-7">Arg</span><span class="hl-1">], </span><span class="hl-0">key</span><span class="hl-1">: [</span><span class="hl-7">Arg</span><span class="hl-1">]) </span><span class="hl-4">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">cacheKey</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">].</span><span class="hl-0">one</span><span class="hl-1"> === </span><span class="hl-0">key</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">].</span><span class="hl-0">one</span><span class="hl-1"> &amp;&amp;</span><br/><span class="hl-1">    </span><span class="hl-0">cacheKey</span><span class="hl-1">[</span><span class="hl-8">1</span><span class="hl-1">].</span><span class="hl-6">hasOwnProperty</span><span class="hl-1">(</span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">) &amp;&amp;</span><br/><span class="hl-1">    </span><span class="hl-0">key</span><span class="hl-1">[</span><span class="hl-8">1</span><span class="hl-1">].</span><span class="hl-6">hasOwnProperty</span><span class="hl-1">(</span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">matchesKey:</span><span class="hl-1"> </span><span class="hl-0">isFooEqualAndHasBar</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">({ </span><span class="hl-0">one:</span><span class="hl-1"> </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1"> }, { </span><span class="hl-0">two:</span><span class="hl-1"> </span><span class="hl-4">null</span><span class="hl-1"> });</span><br/><span class="hl-6">memoized</span><span class="hl-1">({ </span><span class="hl-0">one:</span><span class="hl-1"> </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1"> }, { </span><span class="hl-0">two:</span><span class="hl-1"> </span><span class="hl-3">&#39;three&#39;</span><span class="hl-1"> }); </span><span class="hl-9">// pulls from cache</span>
</code></pre>
<p>This is also available via the shortcut method of <a href="#moizematcheskey"><code>moize.matchesKey</code></a></p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">matchesKey</span><span class="hl-1">(</span><span class="hl-0">isFooEqualAndHasBar</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>
<p><strong>NOTE</strong>: This comparison uses the two keys as a whole, which is usually less performant than the <code>matchArg</code> comparison used iteratively on each argument. Generally speaking you should use the <a href="#matchesarg"><code>matchArg</code></a> option for equality comparison.</p>

<a href="#maxage" id="maxage" style="color: inherit; text-decoration: none;">
  <h2>maxAge</h2>
</a>
<p>The maximum amount of time in milliseconds that you want a computed value to be stored in cache for this method.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">Record</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">any</span><span class="hl-1">&gt;) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">MAX_AGE</span><span class="hl-1"> = </span><span class="hl-8">1000</span><span class="hl-1"> * </span><span class="hl-8">60</span><span class="hl-1"> * </span><span class="hl-8">5</span><span class="hl-1">; </span><span class="hl-9">// five minutes;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">maxAge:</span><span class="hl-1"> </span><span class="hl-5">MAX_AGE</span><span class="hl-1"> });</span>
</code></pre>
<p>This is also available via the shortcut method of <a href="#moizemaxage"><code>moize.maxAge</code></a>.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxAge</span><span class="hl-1">(</span><span class="hl-5">MAX_AGE</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>
<p><strong>TIP</strong>: A common usage of this is in tandom with <code>isPromise</code> for AJAX calls, and in that scenario the expected behavior is usually to have the <code>maxAge</code> countdown begin upon resolution of the promise. If this is your intended use case, you should also apply the <code>updateExpire</code> option.</p>

<a href="#maxargs" id="maxargs" style="color: inherit; text-decoration: none;">
  <h2>maxArgs</h2>
</a>
<p>The maximum number of arguments (starting from the first) used in creating the key for the cache.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">item1</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">item2</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">item3</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">item1</span><span class="hl-1"> + </span><span class="hl-0">item2</span><span class="hl-1"> + </span><span class="hl-0">item3</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">maxArgs:</span><span class="hl-1"> </span><span class="hl-8">2</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">memoize</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;three&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">memoize</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;four&#39;</span><span class="hl-1">); </span><span class="hl-9">// pulls from cache, as the first two args are the same</span>
</code></pre>
<p>This is also available via the shortcut method of <a href="#moizemaxargs"><code>moize.maxArgs</code></a>.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxArgs</span><span class="hl-1">(</span><span class="hl-8">2</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>
<p>If <code>maxArgs</code> is combined with either <code>serialize</code> or <code>transformArgs</code>, the following order is used:</p>
<ol>
<li>limit by <code>maxArgs</code></li>
<li>transform by <code>transformArgs</code> (if applicable)</li>
<li>serialize by <code>serializer</code> (if applicable)</li>
</ol>

<a href="#maxsize" id="maxsize" style="color: inherit; text-decoration: none;">
  <h2>maxSize</h2>
</a>
<p><em>defaults to 1</em></p>
<p>The maximum number of values you want stored in cache for this method. Clearance of the cache once the <code>maxSize</code> is reached is on a <a href="https://en.wikipedia.org/wiki/Cache_replacement_policies#Least_Recently_Used_.28LRU.29">Least Recently Used</a> basis.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">maxSize:</span><span class="hl-1"> </span><span class="hl-8">5</span><span class="hl-1"> });</span>
</code></pre>
<p>This is also available via the shortcut method of <a href="#moizemaxsize"><code>moize.maxSize</code></a>.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxSize</span><span class="hl-1">(</span><span class="hl-8">5</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>

<a href="#oncacheadd" id="oncacheadd" style="color: inherit; text-decoration: none;">
  <h2>onCacheAdd</h2>
</a>
<p>Method to fire when an item has been added to cache. Receives the cache, options, and memoized function as a parameters.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">logCacheKeys</span><span class="hl-1"> = (</span><br/><span class="hl-1">    </span><span class="hl-0">cache</span><span class="hl-1">: </span><span class="hl-7">Cache</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">options</span><span class="hl-1">: </span><span class="hl-7">Options</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">moized</span><span class="hl-1">: </span><span class="hl-7">Moized</span><span class="hl-1">&lt;</span><span class="hl-4">typeof</span><span class="hl-1"> </span><span class="hl-0">fn</span><span class="hl-1">&gt;</span><br/><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-0">keys</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">moized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">maxSize:</span><span class="hl-1"> </span><span class="hl-8">2</span><span class="hl-1">, </span><span class="hl-0">onCacheAdd:</span><span class="hl-1"> </span><span class="hl-0">logCacheKeys</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">); </span><span class="hl-9">// [[&quot;one&quot;,&quot;two&quot;]]</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">); </span><span class="hl-9">// [[&quot;two&quot;,&quot;one&quot;], [&quot;one&quot;,&quot;two&quot;]]</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span>
</code></pre>
<p><strong>NOTE</strong>: When combined with <code>onCacheChange</code>, this method will always fire first.</p>

<a href="#oncachechange" id="oncachechange" style="color: inherit; text-decoration: none;">
  <h2>onCacheChange</h2>
</a>
<p>Method to fire when an item has been either added to cache, or existing cache was reordered based on a cache hit. Receives the cache, options, and memoized function as a parameters.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">logCacheKeys</span><span class="hl-1"> = (</span><br/><span class="hl-1">    </span><span class="hl-0">cache</span><span class="hl-1">: </span><span class="hl-7">Cache</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">options</span><span class="hl-1">: </span><span class="hl-7">Options</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">moized</span><span class="hl-1">: </span><span class="hl-7">Moized</span><span class="hl-1">&lt;</span><span class="hl-4">typeof</span><span class="hl-1"> </span><span class="hl-0">fn</span><span class="hl-1">&gt;</span><br/><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-0">keys</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">moized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">maxSize:</span><span class="hl-1"> </span><span class="hl-8">2</span><span class="hl-1">, </span><span class="hl-0">onCacheChange:</span><span class="hl-1"> </span><span class="hl-0">logCacheKeys</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">); </span><span class="hl-9">// [[&quot;one&quot;,&quot;two&quot;]]</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">); </span><span class="hl-9">// [[&quot;two&quot;,&quot;one&quot;], [&quot;one&quot;,&quot;two&quot;]]</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">); </span><span class="hl-9">// [[&quot;one&quot;,&quot;two&quot;], [&quot;two&quot;,&quot;one&quot;]]</span>
</code></pre>
<p><strong>NOTE</strong>: When combined with <code>onCacheAdd</code> or <code>onCacheHit</code>, this method will always fire last.</p>

<a href="#oncachehit" id="oncachehit" style="color: inherit; text-decoration: none;">
  <h2>onCacheHit</h2>
</a>
<p>Method to fire when an existing cache item is found. Receives the cache, options, and memoized function as a parameters.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">logCacheKeys</span><span class="hl-1"> = (</span><br/><span class="hl-1">    </span><span class="hl-0">cache</span><span class="hl-1">: </span><span class="hl-7">Cache</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">options</span><span class="hl-1">: </span><span class="hl-7">Options</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">moized</span><span class="hl-1">: </span><span class="hl-7">Moized</span><span class="hl-1">&lt;</span><span class="hl-4">typeof</span><span class="hl-1"> </span><span class="hl-0">fn</span><span class="hl-1">&gt;</span><br/><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-0">keys</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">moized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">maxSize:</span><span class="hl-1"> </span><span class="hl-8">2</span><span class="hl-1">, </span><span class="hl-0">onCacheHit:</span><span class="hl-1"> </span><span class="hl-0">logCacheKeys</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">); </span><span class="hl-9">// [[&quot;one&quot;,&quot;two&quot;]]</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">); </span><span class="hl-9">// [[&quot;two&quot;,&quot;one&quot;], [&quot;one&quot;,&quot;two&quot;]]</span>
</code></pre>
<p><strong>NOTE</strong>: When combined with <code>onCacheChange</code>, this method will always fire first.</p>

<a href="#onexpire" id="onexpire" style="color: inherit; text-decoration: none;">
  <h2>onExpire</h2>
</a>
<p>A callback that is called when the cached entry expires.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">logKey</span><span class="hl-1"> = (</span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-7">Key</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt;) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">key</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">maxAge:</span><span class="hl-1"> </span><span class="hl-8">10000</span><span class="hl-1">, </span><span class="hl-0">onExpire:</span><span class="hl-1"> </span><span class="hl-0">logKey</span><span class="hl-1"> });</span>
</code></pre>
<p>If you return <code>false</code> from this method, it will prevent the key&#39;s removal and refresh the expiration in the same vein as <code>updateExpire</code> based on <code>maxAge</code>:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">;</span><br/><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-0">expirationAttempts</span><span class="hl-1"> = </span><span class="hl-8">0</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">limitExpirationAttempts</span><span class="hl-1"> = (</span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-7">Key</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt;) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">expirationAttempts</span><span class="hl-1"> += </span><span class="hl-8">1</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-0">expirationAttempts</span><span class="hl-1"> &lt; </span><span class="hl-8">2</span><span class="hl-1">;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-0">maxAge:</span><span class="hl-1"> </span><span class="hl-8">10000</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">onExpire:</span><span class="hl-1"> </span><span class="hl-0">limitExpirationAttempts</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">); </span><span class="hl-9">// will expire key after 30 seconds, or 3 expiration attempts</span>
</code></pre>
<p><strong>NOTE</strong>: You must set a <a href="#maxage"><code>maxAge</code></a> for this option to take effect.</p>

<a href="#profilename" id="profilename" style="color: inherit; text-decoration: none;">
  <h2>profileName</h2>
</a>
<p><em>defaults to function name when it exists, or <code>Anonymous {count}</code> otherwise</em></p>
<p>Name to use as unique identifier for the function when collecting statistics.</p>
<pre><code class="language-ts"><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">collectStats</span><span class="hl-1">();</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">profileName:</span><span class="hl-1"> </span><span class="hl-3">&#39;my fancy identity&#39;</span><span class="hl-1"> });</span>
</code></pre>
<p>This is also available via the shortcut method of <a href="#moizeprofile"><code>moize.profile</code></a>.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">profile</span><span class="hl-1">(</span><span class="hl-3">&#39;profile-name&#39;</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>
<p><strong>NOTE</strong>: You must be collecting statistics for this option to provide value, as it is the identifier used for statistics collection.</p>

<a href="#serializer" id="serializer" style="color: inherit; text-decoration: none;">
  <h2>serializer</h2>
</a>
<p><em>defaults to serializeArguments in utils.js</em></p>
<p>Method used in place of the internal serializer when serializing the parameters for cache key comparison. The function accepts a single argument, the <code>Array</code> of <code>args</code>, and must also return an <code>Array</code>.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">customSerializer</span><span class="hl-1"> = (</span><span class="hl-0">args</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">[]) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-7">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">(</span><span class="hl-0">args</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">])];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-0">isSerialized:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">serializer</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code></pre>
<p>This is also available via the shortcut method of <a href="#moizeserializewith"><code>moize.serializeWith</code></a>.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">serializeWith</span><span class="hl-1">(</span><span class="hl-0">customSerializer</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>
<p><strong>NOTE</strong>: You must set <a href="#isserialized"><code>isSerialized</code></a> for this option to take effect.</p>

<a href="#transformargs" id="transformargs" style="color: inherit; text-decoration: none;">
  <h2>transformArgs</h2>
</a>
<p>Transform the arguments passed before it is used as a key. The function accepts a single argument, the <code>Array</code> of <code>args</code>, and must also return an <code>Array</code>.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">, </span><span class="hl-0">three</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-0">two</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">three</span><span class="hl-1">,</span><br/><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">ignoreFirstArg</span><span class="hl-1"> = (</span><span class="hl-0">args</span><span class="hl-1">: (</span><span class="hl-7">string</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">)[]) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">args</span><span class="hl-1">.</span><span class="hl-6">slice</span><span class="hl-1">(</span><span class="hl-8">1</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">moized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">transformArgs:</span><span class="hl-1"> </span><span class="hl-0">ignoreFirstArg</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;three&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-4">null</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;three&#39;</span><span class="hl-1">); </span><span class="hl-9">// pulled from cache</span>
</code></pre>
<p>This is also available via the shortcut method of <a href="#moizetransformargs"><code>moize.transformArgs</code></a>.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">transformArgs</span><span class="hl-1">(</span><span class="hl-0">argTransformer</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>
<p>If <code>transformArgs</code> is combined with either <code>maxArgs</code> or <code>serialize</code>, the following order is used:</p>
<ol>
<li>limit by <code>maxArgs</code> (if applicable)</li>
<li>transform by <code>transformArgs</code></li>
<li>serialize by <code>serializer</code> (if applicable)</li>
</ol>

<a href="#updatecacheforkey" id="updatecacheforkey" style="color: inherit; text-decoration: none;">
  <h2>updateCacheForKey</h2>
</a>
<p>If you want to update the cache for a given key instead of leverage the value currently stored in cache.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">;</span><br/><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-0">lastUpdate</span><span class="hl-1"> = </span><span class="hl-7">Date</span><span class="hl-1">.</span><span class="hl-6">now</span><span class="hl-1">();</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-6">updateCacheForKey</span><span class="hl-1">([</span><span class="hl-0">item</span><span class="hl-1">]: [</span><span class="hl-7">string</span><span class="hl-1">]) {</span><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">now</span><span class="hl-1"> = </span><span class="hl-7">Date</span><span class="hl-1">.</span><span class="hl-6">now</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">last</span><span class="hl-1"> = </span><span class="hl-0">lastUpdated</span><span class="hl-1">;</span><br/><br/><span class="hl-1">        </span><span class="hl-0">lastUpdate</span><span class="hl-1"> = </span><span class="hl-0">now</span><span class="hl-1">;</span><br/><br/><span class="hl-1">        </span><span class="hl-9">// its been more than 5 minutes since last update</span><br/><span class="hl-1">        </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-0">last</span><span class="hl-1"> + </span><span class="hl-8">300000</span><span class="hl-1"> &lt; </span><span class="hl-0">now</span><span class="hl-1">;</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">); </span><span class="hl-9">// pulled from cache</span><br/><br/><span class="hl-9">// 5 minutes later</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">); </span><span class="hl-9">// re-calls method and updates cache</span>
</code></pre>
<p>This is also available via the shortcut method of <a href="#moizeupdatecacheforkey"><code>moize.updateCacheForKey</code></a>.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">updateCacheForKey</span><span class="hl-1">(</span><span class="hl-0">shouldCacheUpdate</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>

<a href="#updateexpire" id="updateexpire" style="color: inherit; text-decoration: none;">
  <h2>updateExpire</h2>
</a>
<p>When a <code>maxAge</code> is set, clear the scheduled expiration of the key when that key is retrieved, setting a new expiration based on the most recent retrieval from cache.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">MAX_AGE</span><span class="hl-1"> = </span><span class="hl-8">1000</span><span class="hl-1"> * </span><span class="hl-8">60</span><span class="hl-1"> * </span><span class="hl-8">5</span><span class="hl-1">; </span><span class="hl-9">// five minutes</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">maxAge:</span><span class="hl-1"> </span><span class="hl-5">MAX_AGE</span><span class="hl-1">, </span><span class="hl-0">updateExpire:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-6">setTimeout</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-9">/**</span><br/><span class="hl-9">     * hits cache, which updates the expire to be 5 minutes</span><br/><span class="hl-9">     * from this run instead of the first</span><br/><span class="hl-9">     */</span><br/><span class="hl-1">    </span><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}, </span><span class="hl-8">1000</span><span class="hl-1"> * </span><span class="hl-8">60</span><span class="hl-1">);</span>
</code></pre>

<a href="#usage-with-shortcut-methods" id="usage-with-shortcut-methods" style="color: inherit; text-decoration: none;">
  <h1>Usage with shortcut methods</h1>
</a>

<a href="#moizedeep" id="moizedeep" style="color: inherit; text-decoration: none;">
  <h2>moize.deep</h2>
</a>
<p>Pre-applies the <a href="#isdeepequal"><code>isDeepEqual</code></a> option.</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-0">two</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">deep</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>

<a href="#moizeinfinite" id="moizeinfinite" style="color: inherit; text-decoration: none;">
  <h2>moize.infinite</h2>
</a>
<p>Pre-applies the <a href="#maxsize"><code>maxSize</code></a> option with <code>Infinity</code>.</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-0">two</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">infinite</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>
<p><strong>NOTE</strong>: This mimics default behavior of <code>moize</code> prior to version 6.</p>

<a href="#moizematchesarg" id="moizematchesarg" style="color: inherit; text-decoration: none;">
  <h2>moize.matchesArg</h2>
</a>
<p>Pre-applies the <a href="#matchesarg"><code>matchesArg</code></a> option as a curriable method.</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">isEqualOrFoo</span><span class="hl-1"> = (</span><span class="hl-0">cacheKeyArg</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">keyArg</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">cacheKeyArg</span><span class="hl-1"> === </span><span class="hl-0">keyArg</span><span class="hl-1"> || </span><span class="hl-0">keyArg</span><span class="hl-1"> === </span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-0">two</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">matchesArg</span><span class="hl-1">(</span><span class="hl-0">isEqualOrFoo</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>

<a href="#moizematcheskey" id="moizematcheskey" style="color: inherit; text-decoration: none;">
  <h2>moize.matchesKey</h2>
</a>
<p>Pre-applies the <a href="#matcheskey"><code>matchesKey</code></a> option as a curriable method.</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-0">two</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">isEqualOrHasFoo</span><span class="hl-1"> = (</span><span class="hl-0">cacheKey</span><span class="hl-1">: </span><span class="hl-7">Key</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt;, </span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-7">Key</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt;) </span><span class="hl-4">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">key</span><span class="hl-1">.</span><span class="hl-6">every</span><span class="hl-1">((</span><span class="hl-0">keyArg</span><span class="hl-1">, </span><span class="hl-0">index</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">keyArg</span><span class="hl-1"> === </span><span class="hl-0">cacheKey</span><span class="hl-1">[</span><span class="hl-0">index</span><span class="hl-1">]) ||</span><br/><span class="hl-1">    </span><span class="hl-0">key</span><span class="hl-1">.</span><span class="hl-6">some</span><span class="hl-1">((</span><span class="hl-0">keyArg</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">keyArg</span><span class="hl-1"> === </span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">matchesKey</span><span class="hl-1">(</span><span class="hl-0">isEqualOrHasFoo</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>

<a href="#moizemaxage" id="moizemaxage" style="color: inherit; text-decoration: none;">
  <h2>moize.maxAge</h2>
</a>
<p>Pre-applies the <a href="#maxage"><code>maxAge</code></a> option as a curriable method.</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-0">two</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxAge</span><span class="hl-1">(</span><span class="hl-8">5000</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>

<a href="#moizemaxargs" id="moizemaxargs" style="color: inherit; text-decoration: none;">
  <h2>moize.maxArgs</h2>
</a>
<p>Pre-applies the <a href="#maxargs"><code>maxArgs</code></a> option as a curriable method.</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-0">two</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxArgs</span><span class="hl-1">(</span><span class="hl-8">1</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>

<a href="#moizemaxsize" id="moizemaxsize" style="color: inherit; text-decoration: none;">
  <h2>moize.maxSize</h2>
</a>
<p>Pre-applies the <a href="#maxsize"><code>maxSize</code></a> option as a curriable method.</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-0">two</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxSize</span><span class="hl-1">(</span><span class="hl-8">5</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>

<a href="#moizeprofile" id="moizeprofile" style="color: inherit; text-decoration: none;">
  <h2>moize.profile</h2>
</a>
<p>Pre-applies the <a href="#profilename"><code>profileName</code></a> option as a curriable method.</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-0">two</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">profile</span><span class="hl-1">(</span><span class="hl-3">&#39;my fancy identity&#39;</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>
<p><strong>NOTE</strong>: You must be collecting statistics for this option to provide value, as it is the identifier used for statistics collection.</p>

<a href="#moizepromise" id="moizepromise" style="color: inherit; text-decoration: none;">
  <h2>moize.promise</h2>
</a>
<p>Pre-applies the <a href="#ispromise"><code>isPromise</code></a> and <a href="#updateexpire"><code>updateExpire</code></a> options. The <code>updateExpire</code> option does nothing if <a href="#maxage"><code>maxAge</code></a> is not also applied, but ensures that the expiration begins at the resolution of the promise rather than the instantiation of it.</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = </span><span class="hl-4">async</span><span class="hl-1"> (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">Record</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">any</span><span class="hl-1">&gt;) </span><span class="hl-4">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-6">someApiCall</span><span class="hl-1">(</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">);</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">promise</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>
<p><strong>NOTE</strong>: If you do not want the promise to update its expiration when the cache is hit, then you should use the <code>isPromise</code> option directly instead.</p>

<a href="#moizereact" id="moizereact" style="color: inherit; text-decoration: none;">
  <h2>moize.react</h2>
</a>
<p>Pre-applies the <a href="#isreact"><code>isReact</code></a>) option for memoizing functional components in <a href="https://github.com/facebook/react">React</a>. <code>Key</code> comparisons are based on a shallow equal comparison of both props and legacy context.</p>
<pre><code class="language-tsx"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-7">Props</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">Component</span><span class="hl-1"> = ({ </span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1"> }: </span><span class="hl-7">Props</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> (</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;</span><span class="hl-11">div</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-4">{</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-1"> </span><span class="hl-4">{</span><span class="hl-0">two</span><span class="hl-4">}</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;/</span><span class="hl-11">div</span><span class="hl-10">&gt;</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">react</span><span class="hl-1">(</span><span class="hl-0">Component</span><span class="hl-1">);</span>
</code></pre>
<p><strong>NOTE</strong>: This method will not operate with components made via the <code>class</code> instantiation, as they do not offer the same <a href="https://en.wikipedia.org/wiki/Referential_transparency">referential transparency</a>.</p>

<a href="#moizeserialize" id="moizeserialize" style="color: inherit; text-decoration: none;">
  <h2>moize.serialize</h2>
</a>
<p>Pre-applies the <a href="#isSerialized"><code>isSerialized</code></a> option.</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">Record</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">any</span><span class="hl-1">&gt;, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">Record</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">any</span><span class="hl-1">&gt;) </span><span class="hl-4">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">    </span><span class="hl-0">one</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">two</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>
<p><strong>NOTE</strong>: If you want to provide a custom <a href="#serializer"><code>serializer</code></a>, you should use <a href="#moizeserializewith"><code>moize.serializeWith</code></a>:</p>
<pre><code class="language-ts"><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">serializeWith</span><span class="hl-1">(</span><span class="hl-0">customSerializer</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>

<a href="#moizeserializewith" id="moizeserializewith" style="color: inherit; text-decoration: none;">
  <h2>moize.serializeWith</h2>
</a>
<p>Pre-applies the <a href="#isSerialized"><code>isSerialized</code></a> and <a href="#serializer"><code>serializer</code></a> options.</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">Record</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">any</span><span class="hl-1">&gt;, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">Record</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">any</span><span class="hl-1">&gt;) </span><span class="hl-4">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">    </span><span class="hl-0">one</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">two</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">serializeWith</span><span class="hl-1">(</span><span class="hl-7">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>
<p><strong>NOTE</strong>: If you want to use the default <a href="#serializer"><code>serializer</code></a>, you should use <a href="#moizeserialize"><code>moize.serialize</code></a>:</p>
<pre><code class="language-ts"><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">(</span><span class="hl-0">customSerializer</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>

<a href="#moizeshallow" id="moizeshallow" style="color: inherit; text-decoration: none;">
  <h2>moize.shallow</h2>
</a>
<p>Pre-applies the <a href="#isshallowequal"><code>isShallowEqual</code></a> option.</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-0">two</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">shallow</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>

<a href="#moizetransformargs" id="moizetransformargs" style="color: inherit; text-decoration: none;">
  <h2>moize.transformArgs</h2>
</a>
<p>Pre-applies the <a href="#transformargs"><code>transformArgs</code></a> option.</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = ([</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">]: </span><span class="hl-7">string</span><span class="hl-1">[]) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-0">two</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">];</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">transformArgs</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>

<a href="#moizeupdatecacheforkey" id="moizeupdatecacheforkey" style="color: inherit; text-decoration: none;">
  <h2>moize.updateCacheForKey</h2>
</a>
<p>Pre-applies the <a href="#updatecacheforkey"><code>updateCacheForKey</code></a> option.</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-0">lastUpdated</span><span class="hl-1"> = </span><span class="hl-7">Date</span><span class="hl-1">.</span><span class="hl-6">now</span><span class="hl-1">();</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">now</span><span class="hl-1"> = </span><span class="hl-7">Date</span><span class="hl-1">.</span><span class="hl-6">now</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">last</span><span class="hl-1"> = </span><span class="hl-0">lastUpdated</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-0">lastUpdate</span><span class="hl-1"> = </span><span class="hl-0">now</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-9">// its been more than 5 minutes since last update</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-0">last</span><span class="hl-1"> + </span><span class="hl-8">300000</span><span class="hl-1"> &lt; </span><span class="hl-0">now</span><span class="hl-1">;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">updateCacheForKey</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code></pre>

<a href="#usemoize-hook" id="usemoize-hook" style="color: inherit; text-decoration: none;">
  <h1>useMoize hook</h1>
</a>
<p>If you are using React 16.8+ and are using hooks, you can easily create a custom <code>useMoize</code> hook for your project:</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">useRef</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;react&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-6">useMoize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, </span><span class="hl-0">args</span><span class="hl-1">, </span><span class="hl-0">options</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">moizedFnRef</span><span class="hl-1"> = </span><span class="hl-6">useRef</span><span class="hl-1">(</span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, </span><span class="hl-0">options</span><span class="hl-1">));</span><br/><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-0">moizedFnRef</span><span class="hl-1">.</span><span class="hl-6">current</span><span class="hl-1">(...</span><span class="hl-0">args</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Which can then be used as such:</p>
<pre><code class="language-tsx"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">React</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;react&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">useMoize</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;./moize-hooks&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-6">MyComponent</span><span class="hl-1">({ </span><span class="hl-0">first</span><span class="hl-1">, </span><span class="hl-0">second</span><span class="hl-1">, </span><span class="hl-0">object</span><span class="hl-1"> }) {</span><br/><span class="hl-1">    </span><span class="hl-9">// standard usage</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">sum</span><span class="hl-1"> = </span><span class="hl-6">useMoize</span><span class="hl-1">((</span><span class="hl-0">a</span><span class="hl-1">, </span><span class="hl-0">b</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">a</span><span class="hl-1"> + </span><span class="hl-0">b</span><span class="hl-1">, [</span><span class="hl-0">first</span><span class="hl-1">, </span><span class="hl-0">second</span><span class="hl-1">]);</span><br/><span class="hl-1">    </span><span class="hl-9">// with options</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">deepSum</span><span class="hl-1"> = </span><span class="hl-6">useMoize</span><span class="hl-1">((</span><span class="hl-0">obj</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">obj</span><span class="hl-1">.</span><span class="hl-0">a</span><span class="hl-1"> + </span><span class="hl-0">obj</span><span class="hl-1">.</span><span class="hl-0">b</span><span class="hl-1">, [</span><span class="hl-0">object</span><span class="hl-1">], {</span><br/><span class="hl-1">        </span><span class="hl-0">isDeepEqual:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> (</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">div</span><span class="hl-10">&gt;</span><br/><span class="hl-1">            Sum of </span><span class="hl-4">{</span><span class="hl-0">first</span><span class="hl-4">}</span><span class="hl-1"> and </span><span class="hl-4">{</span><span class="hl-0">second</span><span class="hl-4">}</span><span class="hl-1"> is </span><span class="hl-4">{</span><span class="hl-0">sum</span><span class="hl-4">}</span><span class="hl-1">. Sum of </span><span class="hl-4">{</span><span class="hl-0">object</span><span class="hl-12">.</span><span class="hl-0">a</span><span class="hl-4">}</span><span class="hl-1"> and</span><span class="hl-4">{</span><span class="hl-3">&#39; &#39;</span><span class="hl-4">}</span><br/><span class="hl-1">            </span><span class="hl-4">{</span><span class="hl-0">object</span><span class="hl-12">.</span><span class="hl-0">b</span><span class="hl-4">}</span><span class="hl-1"> is </span><span class="hl-4">{</span><span class="hl-0">deepSum</span><span class="hl-4">}</span><span class="hl-1">.</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;/</span><span class="hl-11">div</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Naturally you can tweak as needed for your project (default options, option-specific hooks, etc).</p>
<p><strong>NOTE</strong>: This is very similar to <a href="https://reactjs.org/docs/hooks-reference.html#usecallback"><code>useCallback</code></a> built-in hook, with two main differences:</p>
<ul>
<li>There is a third parameter passed (the <a href="#configuration-options"><code>options</code></a> passed to <code>moize</code>)</li>
<li>The second argument array is the list of arguments passed to the memoized function</li>
</ul>
<p>In both <code>useCallback</code> and <code>useMemo</code>, the array is a list of <em>dependencies</em> which determine whether the funciton is called. These can be different than the arguments, although in general practice they are equivalent. The decision to use them directly was both for this common use-case reasons, but also because the implementation complexity would have increased substantially if not.</p>

<a href="#composition" id="composition" style="color: inherit; text-decoration: none;">
  <h1>Composition</h1>
</a>
<p>Starting with version <code>2.3.0</code>, you can compose <code>moize</code> methods. This will create a new memoized method with the original function that shallowly merges the options of the two setups. Example:</p>
<pre><code class="language-tsx"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">Component</span><span class="hl-1"> = (</span><span class="hl-0">props</span><span class="hl-1">: </span><span class="hl-7">Record</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">any</span><span class="hl-1">&gt;) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-10">&lt;</span><span class="hl-11">div</span><span class="hl-1"> </span><span class="hl-4">{</span><span class="hl-1">...</span><span class="hl-0">props</span><span class="hl-4">}</span><span class="hl-1"> </span><span class="hl-10">/&gt;</span><span class="hl-1">;</span><br/><br/><span class="hl-9">// memoizing with react, as since 2.0.0</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">MemoizedFoo</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">react</span><span class="hl-1">(</span><span class="hl-0">Component</span><span class="hl-1">);</span><br/><br/><span class="hl-9">// creating a separately-memoized method that has maxSize of 5</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">LastFiveFoo</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxSize</span><span class="hl-1">(</span><span class="hl-8">5</span><span class="hl-1">)(</span><span class="hl-0">MemoizedFoo</span><span class="hl-1">);</span>
</code></pre>
<p>You can also create an options-first curriable version of <code>moize</code> if you only pass the options:</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-9">// creates a function that will memoize what is passed</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">limitedSerializedMoize</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">({ </span><span class="hl-0">maxSize:</span><span class="hl-1"> </span><span class="hl-8">5</span><span class="hl-1">, </span><span class="hl-0">serialize:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> });</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">getWord</span><span class="hl-1"> = (</span><span class="hl-0">bird</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">bird</span><span class="hl-4">}</span><span class="hl-3"> is the word`</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">moizedGetWord</span><span class="hl-1"> = </span><span class="hl-6">limitedSerializedMoize</span><span class="hl-1">(</span><span class="hl-0">getWord</span><span class="hl-1">);</span>
</code></pre>
<p>You can also combine all of these options with <code>moize.compose</code> to create <code>moize</code> wrappers with pre-defined options.</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-9">// creates a moizer that will have the options of</span><br/><span class="hl-9">// {isReact: true, maxAge: 5000, maxSize: 5}</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">superLimitedReactMoize</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">compose</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-0">react</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxSize</span><span class="hl-1">(</span><span class="hl-8">5</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxAge</span><span class="hl-1">(</span><span class="hl-8">5000</span><span class="hl-1">)</span><br/><span class="hl-1">);</span>
</code></pre>

<a href="#collecting-statistics" id="collecting-statistics" style="color: inherit; text-decoration: none;">
  <h1>Collecting statistics</h1>
</a>
<p>As-of version 5, you can collect statistics of moize to determine if your cached methods are effective.</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">collectStats</span><span class="hl-1">();</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">moized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span><br/><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-0">moized</span><span class="hl-1">.</span><span class="hl-6">getStats</span><span class="hl-1">(); </span><span class="hl-9">// {&quot;calls&quot;: 2, &quot;hits&quot;: 1, &quot;usage&quot;: &quot;50%&quot;}</span>
</code></pre>
<p><strong>NOTE</strong>: It is recommended not to activate this in production, as it will have a performance decrease.</p>

<a href="#stats-methods" id="stats-methods" style="color: inherit; text-decoration: none;">
  <h2>Stats methods</h2>
</a>

<a href="#clearstats" id="clearstats" style="color: inherit; text-decoration: none;">
  <h2>clearStats</h2>
</a>
<p>Cear statistics on <code>moize</code>d functions.</p>
<pre><code class="language-ts"><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">clearStats</span><span class="hl-1">(); </span><span class="hl-9">// clears all stats</span><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">clearStats</span><span class="hl-1">(</span><span class="hl-3">&#39;profile-name&#39;</span><span class="hl-1">); </span><span class="hl-9">// clears stats only for &#39;profile-name&#39;</span>
</code></pre>

<a href="#collectstats" id="collectstats" style="color: inherit; text-decoration: none;">
  <h2>collectStats</h2>
</a>
<p>Set whether collecting statistics on <code>moize</code>d functions.</p>
<pre><code class="language-ts"><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">collectStats</span><span class="hl-1">(</span><span class="hl-4">true</span><span class="hl-1">); </span><span class="hl-9">// start collecting stats</span><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">collectStats</span><span class="hl-1">(); </span><span class="hl-9">// same as passing true</span><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">collectStats</span><span class="hl-1">(</span><span class="hl-4">false</span><span class="hl-1">); </span><span class="hl-9">// stop collecting stats</span>
</code></pre>
<p><strong>NOTE</strong>: If collecting statistics, it is recommended to provide a custom <a href="#profilename"><code>profileName</code></a> or use <a href="#moizeprofile"><code>moize.profile()</code></a> for all memoized functions. This allows easier mapping of resulting statistics to their origin function when it has a common name or is anonymous.</p>

<a href="#getstatsprofilename" id="getstatsprofilename" style="color: inherit; text-decoration: none;">
  <h2>getStats([profileName])</h2>
</a>
<p>Get the statistics for a specific function, or globally.</p>
<pre><code class="language-ts"><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">collectStats</span><span class="hl-1">();</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">moized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">otherFn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">[]) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">one</span><span class="hl-1">.</span><span class="hl-6">slice</span><span class="hl-1">(</span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-8">1</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">otherMoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">otherFn</span><span class="hl-1">, { </span><span class="hl-0">profileName:</span><span class="hl-1"> </span><span class="hl-3">&#39;otherMoized&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-0">moized</span><span class="hl-1">.</span><span class="hl-6">getStats</span><span class="hl-1">(); </span><span class="hl-9">// {&quot;calls&quot;: 2, &quot;hits&quot;: 1, &quot;usage&quot;: &quot;50%&quot;}</span><br/><br/><span class="hl-6">otherMoized</span><span class="hl-1">([</span><span class="hl-3">&#39;three&#39;</span><span class="hl-1">]);</span><br/><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">getStats</span><span class="hl-1">(</span><span class="hl-3">&#39;otherMoized&#39;</span><span class="hl-1">); </span><span class="hl-9">// {&quot;calls&quot;: 1, &quot;hits&quot;: 0, &quot;usage&quot;: &quot;0%&quot;}</span><br/><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">getStats</span><span class="hl-1">();</span><br/><span class="hl-9">/*</span><br/><span class="hl-9"> {</span><br/><span class="hl-9">   &quot;calls&quot;: 3,</span><br/><span class="hl-9">   &quot;hits&quot;: 1,</span><br/><span class="hl-9">   &quot;profiles&quot;: {</span><br/><span class="hl-9">     &quot;fn at Object..src/utils.js (http://localhost:3000/app.js:153:68)&quot;: {</span><br/><span class="hl-9">       &quot;calls&quot;: 2,</span><br/><span class="hl-9">       &quot;hits&quot;: 1,</span><br/><span class="hl-9">       &quot;usage&quot;: &quot;50%&quot;</span><br/><span class="hl-9">     },</span><br/><span class="hl-9">     &quot;otherMoized&quot;: {</span><br/><span class="hl-9">       &quot;calls&quot;: 1,</span><br/><span class="hl-9">       &quot;hits&quot;: 0,</span><br/><span class="hl-9">       &quot;usage&quot;: &quot;0%&quot;</span><br/><span class="hl-9">     }</span><br/><span class="hl-9">   },</span><br/><span class="hl-9">   &quot;usage&quot;: &quot;33.3333%&quot;</span><br/><span class="hl-9"> }</span><br/><span class="hl-9"> */</span>
</code></pre>

<a href="#introspection" id="introspection" style="color: inherit; text-decoration: none;">
  <h1>Introspection</h1>
</a>

<a href="#iscollectingstats" id="iscollectingstats" style="color: inherit; text-decoration: none;">
  <h2>isCollectingStats</h2>
</a>
<p>Are statistics being collected on memoization usage.</p>
<pre><code class="language-ts"><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">collectStats</span><span class="hl-1">(</span><span class="hl-4">true</span><span class="hl-1">);</span><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">isCollectingStats</span><span class="hl-1">(); </span><span class="hl-9">// true</span><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">collectStats</span><span class="hl-1">(</span><span class="hl-4">false</span><span class="hl-1">);</span><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">isCollectingStats</span><span class="hl-1">(); </span><span class="hl-9">// false</span>
</code></pre>

<a href="#ismoized" id="ismoized" style="color: inherit; text-decoration: none;">
  <h2>isMoized</h2>
</a>
<p>Is the function passed a moized function.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {};</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">moizedFn</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span><br/><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">isMoized</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">); </span><span class="hl-9">// false</span><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">isMoized</span><span class="hl-1">(</span><span class="hl-0">moizedFn</span><span class="hl-1">); </span><span class="hl-9">// true</span>
</code></pre>

<a href="#direct-cache-manipulation" id="direct-cache-manipulation" style="color: inherit; text-decoration: none;">
  <h1>Direct cache manipulation</h1>
</a>
<p>The cache is available on the <code>moize</code>d function as a property, and while it is not recommended to modify it directly, that option is available for edge cases.</p>

<a href="#cache" id="cache" style="color: inherit; text-decoration: none;">
  <h2>cache</h2>
</a>
<p>The shape of the <code>cache</code> is as follows:</p>
<pre><code class="language-ts"><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-7">Cache</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">keys</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">[][];</span><br/><span class="hl-1">    </span><span class="hl-0">size</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">values</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">[];</span><br/><span class="hl-1">};</span>
</code></pre>
<p>Regardless of how the key is transformed, it is always stored as an array (if the value returned is not an array, it is coalesced to one).</p>
<p><strong>NOTE</strong>: The order of <code>keys</code> and <code>values</code> should always align, so be aware when manually manipulating the cache that you need to manually keep in sync any changes to those arrays.</p>

<a href="#cachesnapshot" id="cachesnapshot" style="color: inherit; text-decoration: none;">
  <h2>cacheSnapshot</h2>
</a>
<p>The <code>cache</code> is mutated internally for performance reasons, so logging out the cache at a specific step in the workflow may not give you the information you need. As such, to help with debugging you can request the <code>cacheSnapshot</code>, which has the same shape as the <code>cache</code> but is a shallow clone of each property for persistence.</p>
<p>There are also convenience methods provided on the <code>moize</code>d function which allow for programmatic manipulation of the cache.</p>

<a href="#addkey-value" id="addkey-value" style="color: inherit; text-decoration: none;">
  <h2>add(key, value)</h2>
</a>
<p>This will manually add the <em>value</em> at <em>key</em> in cache if <em>key</em> does not already exist. <em>key</em> should be an <code>Array</code> of values, meant to reflect the arguments passed to the method.</p>
<pre><code class="language-ts"><span class="hl-9">// single parameter is straightforward</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">((</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-0">string</span><span class="hl-1">);</span><br/><br/><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">add</span><span class="hl-1">([</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">], </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-9">// pulls from cache</span><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">);</span>
</code></pre>
<p><strong>NOTE</strong>: This will only add <code>key</code>s that do not exist in the cache, and will do nothing if the <code>key</code> already exists. If you want to update keys that already exist, use <a href="#updatekey-value"><code>update</code></a>.</p>

<a href="#clear" id="clear" style="color: inherit; text-decoration: none;">
  <h2>clear()</h2>
</a>
<p>This will clear all values in the cache, resetting it to an empty state.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">((</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">);</span><br/><br/><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">clear</span><span class="hl-1">();</span>
</code></pre>

<a href="#getkey" id="getkey" style="color: inherit; text-decoration: none;">
  <h2>get(key)</h2>
</a>
<p>Returns the value in cache if the key matches, else returns <code>undefined</code>. <em>key</em> should be an <code>Array</code> of values, meant to reflect the arguments passed to the method.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">((</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">);</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">get</span><span class="hl-1">([</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">])); </span><span class="hl-9">// [&quot;one&quot;,&quot;two&quot;]</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">get</span><span class="hl-1">([</span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;three&#39;</span><span class="hl-1">])); </span><span class="hl-9">// undefined</span>
</code></pre>

<a href="#getstats" id="getstats" style="color: inherit; text-decoration: none;">
  <h2>getStats()</h2>
</a>
<p>Returns the statistics for the function.</p>
<pre><code class="language-ts"><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">collectStats</span><span class="hl-1">();</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">((</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">);</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">getStats</span><span class="hl-1">()); </span><span class="hl-9">// {&quot;calls&quot;: 2, &quot;hits&quot;: 1, &quot;usage&quot;: &quot;50%&quot;}</span>
</code></pre>
<p><strong>NOTE</strong>: You must be collecting statistics for this to be populated.</p>

<a href="#haskey" id="haskey" style="color: inherit; text-decoration: none;">
  <h2>has(key)</h2>
</a>
<p>This will return <code>true</code> if a cache entry exists for the <em>key</em> passed, else will return <code>false</code>. <em>key</em> should be an <code>Array</code> of values, meant to reflect the arguments passed to the method.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">((</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">]);</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">has</span><span class="hl-1">([</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">])); </span><span class="hl-9">// true</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">has</span><span class="hl-1">([</span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;three&#39;</span><span class="hl-1">])); </span><span class="hl-9">// false</span>
</code></pre>

<a href="#keys" id="keys" style="color: inherit; text-decoration: none;">
  <h2>keys()</h2>
</a>
<p>This will return a list of the current keys in <code>cache</code>.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxSize</span><span class="hl-1">(</span><span class="hl-8">2</span><span class="hl-1">)((</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">);</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">memoized</span><span class="hl-1">({ </span><span class="hl-0">two:</span><span class="hl-1"> </span><span class="hl-3">&#39;three&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">keys</span><span class="hl-1"> = </span><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">keys</span><span class="hl-1">(); </span><span class="hl-9">// [[&#39;one&#39;], [{two: &#39;three&#39;}]]</span>
</code></pre>

<a href="#removekey" id="removekey" style="color: inherit; text-decoration: none;">
  <h2>remove(key)</h2>
</a>
<p>This will remove the provided <em>key</em> from cache. <em>key</em> should be an <code>Array</code> of values, meant to reflect the arguments passed to the method.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">((</span><span class="hl-0">item</span><span class="hl-1">: { </span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1"> }) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">arg</span><span class="hl-1"> = { </span><span class="hl-0">one:</span><span class="hl-1"> </span><span class="hl-3">&#39;one&#39;</span><span class="hl-1"> };</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-0">arg</span><span class="hl-1">);</span><br/><br/><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">remove</span><span class="hl-1">([</span><span class="hl-0">arg</span><span class="hl-1">]);</span><br/><br/><span class="hl-9">// will re-execute, as it is no longer in cache</span><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-0">arg</span><span class="hl-1">);</span>
</code></pre>
<p><strong>NOTE</strong>: This will only remove <code>key</code>s that exist in the cache, and will do nothing if the <code>key</code> does not exist.</p>

<a href="#updatekey-value" id="updatekey-value" style="color: inherit; text-decoration: none;">
  <h2>update(key, value)</h2>
</a>
<p>This will manually update the <em>value</em> at <em>key</em> in cache if <em>key</em> exists. <em>key</em> should be an <code>Array</code> of values, meant to reflect the arguments passed to the method.</p>
<pre><code class="language-ts"><span class="hl-9">// single parameter is straightforward</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">((</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">);</span><br/><br/><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">add</span><span class="hl-1">([</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">], </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-9">// pulls from cache</span><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">);</span>
</code></pre>
<p><strong>NOTE</strong>: This will only update <code>key</code>s that exist in the cache, and will do nothing if the <code>key</code> does not exist. If you want to add keys that do not already exist, use <a href="#addkey-value"><code>add</code></a>.</p>

<a href="#values" id="values" style="color: inherit; text-decoration: none;">
  <h2>values()</h2>
</a>
<p>This will return a list of the current values in <code>cache</code>.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxSize</span><span class="hl-1">(</span><span class="hl-8">2</span><span class="hl-1">)((</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1"> | { </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1"> }) </span><span class="hl-4">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">    </span><span class="hl-0">item</span><span class="hl-1">,</span><br/><span class="hl-1">}));</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">memoized</span><span class="hl-1">({ </span><span class="hl-0">two:</span><span class="hl-1"> </span><span class="hl-3">&#39;three&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">values</span><span class="hl-1"> = </span><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">values</span><span class="hl-1">(); </span><span class="hl-9">// [{item: &#39;one&#39;}, {item: {two: &#39;three&#39;}}]</span>
</code></pre>

<a href="#benchmarks" id="benchmarks" style="color: inherit; text-decoration: none;">
  <h1>Benchmarks</h1>
</a>
<p>All values provided are the number of operations per second calculated by the <a href="https://benchmarkjs.com/">Benchmark suite</a>, where a higher value is better. Each benchmark was performed using the default configuration of the library, with a fibonacci calculation based on a starting parameter of <code>35</code>, using single and multiple parameters with different object types. The results were averaged to determine overall speed across possible usage.</p>
<p><strong>NOTE</strong>: <code>lodash</code>, <code>ramda</code>, and <code>underscore</code> do not support mulitple-parameter memoization without use of a <code>resolver</code> function. For consistency in comparison, each use the same <code>resolver</code> that returns the result of <code>JSON.stringify</code> on the arguments.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Overall (average)</th>
<th>Single (average)</th>
<th>Multiple (average)</th>
<th>single primitive</th>
<th>single array</th>
<th>single object</th>
<th>multiple primitive</th>
<th>multiple array</th>
<th>multiple object</th>
</tr>
</thead>
<tbody><tr>
<td><strong>moize</strong></td>
<td><strong>71,177,801</strong></td>
<td><strong>98,393,482</strong></td>
<td><strong>43,962,121</strong></td>
<td><strong>139,808,786</strong></td>
<td><strong>97,571,202</strong></td>
<td><strong>57,800,460</strong></td>
<td><strong>44,509,528</strong></td>
<td><strong>44,526,039</strong></td>
<td><strong>42,850,796</strong></td>
</tr>
<tr>
<td>lru-memoize</td>
<td>48,391,839</td>
<td>64,270,849</td>
<td>32,512,830</td>
<td>77,863,436</td>
<td>59,876,764</td>
<td>55,072,348</td>
<td>29,917,027</td>
<td>33,308,028</td>
<td>34,313,435</td>
</tr>
<tr>
<td>mem</td>
<td>42,348,320</td>
<td>83,158,473</td>
<td>1,538,166</td>
<td>128,731,510</td>
<td>73,473,478</td>
<td>47,270,433</td>
<td>2,012,120</td>
<td>1,565,253</td>
<td>1,037,126</td>
</tr>
<tr>
<td>fast-memoize</td>
<td>33,145,713</td>
<td>64,942,152</td>
<td>1,349,274</td>
<td>190,677,799</td>
<td>2,149,467</td>
<td>1,999,192</td>
<td>1,718,229</td>
<td>1,297,911</td>
<td>1,031,683</td>
</tr>
<tr>
<td>lodash</td>
<td>25,700,293</td>
<td>49,941,573</td>
<td>1,459,013</td>
<td>67,513,655</td>
<td>48,874,559</td>
<td>33,436,506</td>
<td>1,861,982</td>
<td>1,402,532</td>
<td>1,112,527</td>
</tr>
<tr>
<td>memoizee</td>
<td>21,546,499</td>
<td>27,447,855</td>
<td>15,645,143</td>
<td>29,701,124</td>
<td>27,294,197</td>
<td>25,348,244</td>
<td>15,359,792</td>
<td>15,855,421</td>
<td>15,720,217</td>
</tr>
<tr>
<td>ramda</td>
<td>18,804,380</td>
<td>35,919,033</td>
<td>1,689,727</td>
<td>101,557,928</td>
<td>1,895,956</td>
<td>4,303,215</td>
<td>2,305,025</td>
<td>1,597,131</td>
<td>1,167,025</td>
</tr>
<tr>
<td>memoizerific</td>
<td>6,745,058</td>
<td>7,382,030</td>
<td>6,108,086</td>
<td>8,488,885</td>
<td>6,427,832</td>
<td>7,229,375</td>
<td>5,772,461</td>
<td>6,278,344</td>
<td>6,273,453</td>
</tr>
<tr>
<td>underscore</td>
<td>6,701,695</td>
<td>11,698,265</td>
<td>1,705,126</td>
<td>18,249,423</td>
<td>4,695,658</td>
<td>12,149,714</td>
<td>2,310,412</td>
<td>1,630,769</td>
<td>1,174,197</td>
</tr>
<tr>
<td>addy-osmani</td>
<td>4,926,732</td>
<td>6,370,152</td>
<td>3,483,311</td>
<td>12,506,809</td>
<td>3,568,399</td>
<td>3,035,249</td>
<td>6,898,542</td>
<td>2,009,089</td>
<td>1,542,304</td>
</tr>
</tbody></table>

<a href="#filesize" id="filesize" style="color: inherit; text-decoration: none;">
  <h1>Filesize</h1>
</a>
<p><code>moize</code> is fairly small (~3.86KB when minified and gzipped), however it provides a large number of configuration options to satisfy a number of edge cases. If filesize is a concern, you may consider using <a href="https://github.com/planttheidea/micro-memoize"><code>micro-memoize</code></a>. This is the memoization library that powers <code>moize</code> under-the-hood, and will handle most common use cases at 1/4 the size of <code>moize</code>.</p>

<a href="#browser-support" id="browser-support" style="color: inherit; text-decoration: none;">
  <h1>Browser support</h1>
</a>
<ul>
<li>Chrome (all versions)</li>
<li>Firefox (all versions)</li>
<li>Edge (all versions)</li>
<li>Opera 15+</li>
<li>IE 9+</li>
<li>Safari 6+</li>
<li>iOS 8+</li>
<li>Android 4+</li>
</ul>

<a href="#development" id="development" style="color: inherit; text-decoration: none;">
  <h1>Development</h1>
</a>
<p>Standard stuff, clone the repo and <code>npm install</code> dependencies. The npm scripts available:</p>
<ul>
<li><code>benchmark</code> =&gt; run the benchmark suite pitting <code>moize</code> against other libraries in common use-cases</li>
<li><code>benchmark:alternative</code> =&gt; run the benchmark suite for alternative forms of caching</li>
<li><code>benchmark:array</code> =&gt; run the benchmark suite for memoized methods using single and multiple <code>array</code> parameters</li>
<li><code>benchmark:object</code> =&gt; run the benchmark suite for memoized methods using single and multiple <code>object</code> parameters</li>
<li><code>benchmark:primitive</code> =&gt; run the benchmark suite for memoized methods using single and multiple <code>object</code> parameters</li>
<li><code>benchmark:react</code> =&gt; run the benchmark suite for memoized React components</li>
<li><code>build</code> =&gt; run rollup to build the distributed files in <code>dist</code></li>
<li><code>clean:dist</code> =&gt; run <code>rimraf</code> on the <code>dist</code> folder</li>
<li><code>clean:docs</code> =&gt; run <code>rimraf</code> on the <code>docs</code> folder</li>
<li><code>clean:mjs</code> =&gt; run <code>rimraf</code> on the <code>mjs</code> folder</li>
<li><code>copy:mjs</code> =&gt; run <code>clean:mjs</code> and the <code>es-to-mjs</code> script</li>
<li><code>copy:types</code> =&gt; copy internal types to be available for consumer</li>
<li><code>dev</code> =&gt; run webpack dev server to run example app (playground!)</li>
<li><code>dist</code> =&gt; runs <code>clean:dist</code> and <code>build</code></li>
<li><code>docs</code> =&gt; runs <code>clean:docs</code> and builds the docs via <code>jsdoc</code></li>
<li><code>flow</code> =&gt; runs <code>flow check</code> on the files in <code>src</code></li>
<li><code>lint</code> =&gt; runs ESLint against all files in the <code>src</code> folder</li>
<li><code>lint:fix</code> =&gt; runs <code>lint</code>, fixing any errors if possible</li>
<li><code>test</code> =&gt; run <code>jest</code> test functions with <code>NODE_ENV=test</code></li>
<li><code>test:coverage</code> =&gt; run <code>test</code> but with code coverage</li>
<li><code>test:watch</code> =&gt; run <code>test</code>, but with persistent watcher</li>
<li><code>typecheck</code> =&gt; run <code>tsc</code> against source code to validate TypeScript</li>
</ul>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">moize</a>
<ul>
<li class="tsd-kind-namespace"><a href="modules/default.html">default</a></li></ul></li></ul></div></details></nav>
<nav class="tsd-navigation secondary menu-sticky">
<ul>
<li class="tsd-kind-function"><a href="functions/default-1.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-function)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-64-path"></rect><path d="M9.39 16V7.24H14.55V8.224H10.446V11.128H14.238V12.112H10.47V16H9.39Z" fill="var(--color-text)" id="icon-64-text"></path></svg>default</a></li></ul></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>