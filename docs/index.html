<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>moize</title><meta name="description" content="Documentation for moize"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">moize</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>moize</h1></div><div class="tsd-panel tsd-typography"><blockquote>
<p>moize</p>
</blockquote>
<img src="https://img.shields.io/badge/build-passing-brightgreen.svg"/>
<img src="https://img.shields.io/badge/coverage-100%25-brightgreen.svg"/>
<img src="https://img.shields.io/badge/license-MIT-blue.svg"/>
<p><code>moize</code> is a <a href="#benchmarks">consistently blazing fast</a> memoization library for JavaScript. It handles multiple parameters (including default values) without any additional configuration, and offers a large number of options to satisfy any number of potential use-cases.</p>
<ul>
<li><a href="#importing">Importing</a>
<ul>
<li><a href="#esm-in-browsers">ESM in browsers</a></li>
<li><a href="#esm-in-nodejs">ESM in NodeJS</a></li>
<li><a href="#commonjs">CommonJS</a></li>
</ul>
</li>
<li><a href="#usage">Usage</a></li>
<li><a href="#configuration-options">Configuration options</a>
<ul>
<li><a href="#isdeepequal">isDeepEqual</a></li>
<li><a href="#ispromise">isPromise</a></li>
<li><a href="#isreact">isReact</a></li>
<li><a href="#isserialized">isSerialized</a></li>
<li><a href="#isshallowequal">isShallowEqual</a></li>
<li><a href="#matchesarg">matchesArg</a></li>
<li><a href="#matcheskey">matchesKey</a></li>
<li><a href="#maxage">maxAge</a></li>
<li><a href="#maxargs">maxArgs</a></li>
<li><a href="#maxsize">maxSize</a></li>
<li><a href="#oncacheadd">onCacheAdd</a></li>
<li><a href="#oncachechange">onCacheChange</a></li>
<li><a href="#oncachehit">onCacheHit</a></li>
<li><a href="#onexpire">onExpire</a></li>
<li><a href="#profilename">profileName</a></li>
<li><a href="#serializer">serializer</a></li>
<li><a href="#transformargs">transformArgs</a></li>
<li><a href="#updatecacheforkey">updateCacheForKey</a></li>
<li><a href="#updateexpire">updateExpire</a></li>
</ul>
</li>
<li><a href="#usage-with-shortcut-methods">Usage with shortcut methods</a>
<ul>
<li><a href="#moizedeep">moize.deep</a></li>
<li><a href="#moizeinfinite">moize.infinite</a></li>
<li><a href="#moizematchesarg">moize.matchesArg</a></li>
<li><a href="#moizematcheskey">moize.matchesKey</a></li>
<li><a href="#moizemaxage">moize.maxAge</a></li>
<li><a href="#moizemaxargs">moize.maxArgs</a></li>
<li><a href="#moizemaxsize">moize.maxSize</a></li>
<li><a href="#moizeprofile">moize.profile</a></li>
<li><a href="#moizepromise">moize.promise</a></li>
<li><a href="#moizereact">moize.react</a></li>
<li><a href="#moizeserialize">moize.serialize</a></li>
<li><a href="#moizeserializewith">moize.serializeWith</a></li>
<li><a href="#moizeshallow">moize.shallow</a></li>
<li><a href="#moizetransformargs">moize.transformArgs</a></li>
<li><a href="#moizeupdatecacheforkey">moize.updateCacheForKey</a></li>
</ul>
</li>
<li><a href="#usemoize-hook">useMoize hook</a></li>
<li><a href="#composition">Composition</a></li>
<li><a href="#collecting-statistics">Collecting statistics</a>
<ul>
<li><a href="#stats-methods">Stats methods</a></li>
<li><a href="#clearstats">clearStats</a></li>
<li><a href="#collectstats">collectStats</a></li>
<li><a href="#getstatsprofilename">getStats([profileName])</a></li>
</ul>
</li>
<li><a href="#introspection">Introspection</a>
<ul>
<li><a href="#iscollectingstats">isCollectingStats</a></li>
<li><a href="#ismoized">isMoized</a></li>
</ul>
</li>
<li><a href="#direct-cache-manipulation">Direct cache manipulation</a>
<ul>
<li><a href="#cache">cache</a></li>
<li><a href="#cachesnapshot">cacheSnapshot</a></li>
<li><a href="#addkey-value">add(key, value)</a></li>
<li><a href="#clear">clear()</a></li>
<li><a href="#getkey">get(key)</a></li>
<li><a href="#getstats">getStats()</a></li>
<li><a href="#haskey">has(key)</a></li>
<li><a href="#keys">keys()</a></li>
<li><a href="#removekey">remove(key)</a></li>
<li><a href="#updatekey-value">update(key, value)</a></li>
<li><a href="#values">values()</a></li>
</ul>
</li>
<li><a href="#benchmarks">Benchmarks</a></li>
<li><a href="#filesize">Filesize</a></li>
<li><a href="#browser-support">Browser support</a></li>
<li><a href="#development">Development</a></li>
</ul>
<pre><code><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">i</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> --</span><span class="hl-0">save</span>
</code><button>Copy</button></pre>

<h1 id="importing" class="tsd-anchor-link">Importing<a href="#importing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><h2 id="esm-in-browsers" class="tsd-anchor-link">ESM in browsers<a href="#esm-in-browsers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<h2 id="esm-in-nodejs" class="tsd-anchor-link">ESM in NodeJS<a href="#esm-in-nodejs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize/mjs/index.mjs&#39;</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<h2 id="commonjs" class="tsd-anchor-link">CommonJS<a href="#commonjs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">moize</span><span class="hl-1"> = </span><span class="hl-6">require</span><span class="hl-1">(</span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h1 id="usage" class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">method</span><span class="hl-1"> = (</span><span class="hl-0">a</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">, </span><span class="hl-0">b</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">a</span><span class="hl-1"> + </span><span class="hl-0">b</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">method</span><span class="hl-1">);</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-8">2</span><span class="hl-1">, </span><span class="hl-8">4</span><span class="hl-1">); </span><span class="hl-9">// 6</span><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-8">2</span><span class="hl-1">, </span><span class="hl-8">4</span><span class="hl-1">); </span><span class="hl-9">// 6, pulled from cache</span>
</code><button type="button">Copy</button></pre>

<p>All parameter types are supported, including circular objects, functions, etc. There are also a number of <a href="#usage-with-shortcut-methods">shortcut methods</a> to memoize for unique use-cases.</p>
<h1 id="configuration-options" class="tsd-anchor-link">Configuration options<a href="#configuration-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><code>moize</code> optionally accepts an object of options as either the second parameter or as the first step in a curried function:</p>
<pre><code class="ts"><span class="hl-9">// inline</span><br/><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, </span><span class="hl-0">options</span><span class="hl-1">);</span><br/><br/><span class="hl-9">// curried</span><br/><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">options</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>The full shape of these options:</p>
<pre><code class="ts"><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-7">Options</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-9">/**</span><br/><span class="hl-9">     * Whether the result of calling the function is a promise. This</span><br/><span class="hl-9">     * will automatically remove the entry from cache if the promise is</span><br/><span class="hl-9">     * rejected to avoid caching error states.</span><br/><span class="hl-9">     */</span><br/><span class="hl-1">    </span><span class="hl-0">async</span><span class="hl-1">?: </span><span class="hl-7">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">/**</span><br/><span class="hl-9">     * Whether the entry in cache should automatically remove itself</span><br/><span class="hl-9">     * after a period of time.</span><br/><span class="hl-9">     */</span><br/><span class="hl-1">    </span><span class="hl-0">expires</span><span class="hl-1">?: </span><span class="hl-7">number</span><span class="hl-1"> | </span><span class="hl-7">GetExpires</span><span class="hl-1">&lt;</span><span class="hl-7">Fn</span><span class="hl-1">&gt; | </span><span class="hl-7">ExpiresConfig</span><span class="hl-1">&lt;</span><span class="hl-7">Fn</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">    </span><span class="hl-9">/**</span><br/><span class="hl-9">     * Method to determine whether to bypass the cache to force an update</span><br/><span class="hl-9">     * of the underlying entry based on new results.</span><br/><span class="hl-9">     *</span><br/><span class="hl-9">     * This should only be necessary if the memoized function is not</span><br/><span class="hl-9">     * deterministic due to side-effects.</span><br/><span class="hl-9">     */</span><br/><span class="hl-1">    </span><span class="hl-0">forceUpdate</span><span class="hl-1">?: </span><span class="hl-7">ForceUpdate</span><span class="hl-1">&lt;</span><span class="hl-7">Fn</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">    </span><span class="hl-9">/**</span><br/><span class="hl-9">     * Whether the two keys are equal in value. This is used to compare</span><br/><span class="hl-9">     * the key the function is called with against a given cache key to</span><br/><span class="hl-9">     * determine whether the cached entry can be used.</span><br/><span class="hl-9">     *</span><br/><span class="hl-9">     * </span><span class="hl-4">@default</span><span class="hl-9"> </span><span class="hl-0">isShallowEqual</span><br/><span class="hl-9">     *</span><br/><span class="hl-9">     * </span><span class="hl-4">@note</span><br/><span class="hl-9">     * If provided, the `isArgEqual` option will be ignored.</span><br/><span class="hl-9">     */</span><br/><span class="hl-1">    </span><span class="hl-6">isKeyEqual</span><span class="hl-1">?: (</span><span class="hl-0">cachedKey</span><span class="hl-1">: </span><span class="hl-7">Key</span><span class="hl-1">, </span><span class="hl-0">nextKey</span><span class="hl-1">: </span><span class="hl-7">Key</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-7">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">/**</span><br/><span class="hl-9">     * Whether the two args are equal in value. This is used to compare</span><br/><span class="hl-9">     * specific arguments in order for a cached key versus the key the</span><br/><span class="hl-9">     * function is called with to determine whether the cached entry</span><br/><span class="hl-9">     * can be used.</span><br/><span class="hl-9">     *</span><br/><span class="hl-9">     * </span><span class="hl-4">@default</span><span class="hl-9"> </span><span class="hl-0">isSameValueZero</span><br/><span class="hl-9">     *</span><br/><span class="hl-9">     * </span><span class="hl-4">@note</span><br/><span class="hl-9">     * This option will be ignored if the `isKeyEqual` option is provided.</span><br/><span class="hl-9">     */</span><br/><span class="hl-1">    </span><span class="hl-0">isKeyItemEqual</span><span class="hl-1">?:</span><br/><span class="hl-1">        | </span><span class="hl-3">&#39;deep&#39;</span><br/><span class="hl-1">        | </span><span class="hl-3">&#39;shallow&#39;</span><br/><span class="hl-1">        | ((</span><span class="hl-0">cachedKeyItem</span><span class="hl-1">: </span><span class="hl-7">Arg</span><span class="hl-1">, </span><span class="hl-0">nextKeyItem</span><span class="hl-1">: </span><span class="hl-7">Arg</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-7">boolean</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-9">/**</span><br/><span class="hl-9">     * The maximum number of args to consider for caching.</span><br/><span class="hl-9">     */</span><br/><span class="hl-1">    </span><span class="hl-0">maxArgs</span><span class="hl-1">?: </span><span class="hl-7">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">/**</span><br/><span class="hl-9">     * The maximum number of entries to store in cache.</span><br/><span class="hl-9">     * </span><span class="hl-4">@default</span><span class="hl-9"> </span><span class="hl-0">1</span><br/><span class="hl-9">     */</span><br/><span class="hl-1">    </span><span class="hl-0">maxSize</span><span class="hl-1">?: </span><span class="hl-7">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">/**</span><br/><span class="hl-9">     * Whether to serialize the arguments into a string value for cache</span><br/><span class="hl-9">     * purposes. A custom serializer can also be provided, if the default</span><br/><span class="hl-9">     * one is insufficient.</span><br/><span class="hl-9">     *</span><br/><span class="hl-9">     * This can potentially be faster than `isKeyItemEqual: &#39;deep&#39;` in rare</span><br/><span class="hl-9">     * cases, but can also be used to provide a deep equal check that handles</span><br/><span class="hl-9">     * circular references.</span><br/><span class="hl-9">     */</span><br/><span class="hl-1">    </span><span class="hl-0">serialize</span><span class="hl-1">?: </span><span class="hl-7">boolean</span><span class="hl-1"> | </span><span class="hl-7">Serializer</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">/**</span><br/><span class="hl-9">     * The name to give this method when recording profiling stats.</span><br/><span class="hl-9">     */</span><br/><span class="hl-1">    </span><span class="hl-0">statsName</span><span class="hl-1">?: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">/**</span><br/><span class="hl-9">     * Transform the parameters passed into a custom key for storage in</span><br/><span class="hl-9">     * cache.</span><br/><span class="hl-9">     */</span><br/><span class="hl-1">    </span><span class="hl-0">transformKey</span><span class="hl-1">?: </span><span class="hl-7">TransformKey</span><span class="hl-1">&lt;</span><span class="hl-7">Fn</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<h2 id="isdeepequal" class="tsd-anchor-link">isDeepEqual<a href="#isdeepequal" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><em>defaults to false</em></p>
<p>Should deep equality be used to compare cache each key argument.</p>
<pre><code class="ts"><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-7">Arg</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">one</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-0">nested</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">    </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = ({ </span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1"> }: </span><span class="hl-7">Arg</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">isDeepEqual:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">({ </span><span class="hl-0">one:</span><span class="hl-1"> { </span><span class="hl-0">nested:</span><span class="hl-1"> </span><span class="hl-3">&#39;one&#39;</span><span class="hl-1"> }, </span><span class="hl-0">two:</span><span class="hl-1"> </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1"> });</span><br/><span class="hl-6">memoized</span><span class="hl-1">({ </span><span class="hl-0">one:</span><span class="hl-1"> { </span><span class="hl-0">nested:</span><span class="hl-1"> </span><span class="hl-3">&#39;one&#39;</span><span class="hl-1"> }, </span><span class="hl-0">two:</span><span class="hl-1"> </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1"> }); </span><span class="hl-9">// pulls from cache</span>
</code><button type="button">Copy</button></pre>

<p>This is also available via the shortcut method of <a href="#moizedeep"><code>moize.deep</code></a></p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">deep</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="ispromise" class="tsd-anchor-link">isPromise<a href="#ispromise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><em>defaults to false</em></p>
<p>Is the computed value in the function a <code>Promise</code>.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = </span><span class="hl-4">async</span><span class="hl-1"> (</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt;) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">isPromise:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<p>This is also available via the shortcut method of <a href="#moizepromise"><code>moize.promise</code></a>.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = -</span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">promise</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>The <code>Promise</code> itself will be stored in cache, so that cached returns will always maintain the <code>Promise</code> contract. For common usage reasons, if the <code>Promise</code> is rejected, the cache entry will be deleted.</p>
<h2 id="isreact" class="tsd-anchor-link">isReact<a href="#isreact" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><em>defaults to false</em></p>
<p>Is the function passed a stateless functional <code>React</code> component.</p>
<pre><code class="tsx"><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-7">Props</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">Component</span><span class="hl-1"> = ({ </span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1"> }: </span><span class="hl-7">Props</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> (</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;</span><span class="hl-11">div</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-4">{</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-1">: </span><span class="hl-4">{</span><span class="hl-0">two</span><span class="hl-4">}</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;/</span><span class="hl-11">div</span><span class="hl-10">&gt;</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">MemoizedFoo</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">Component</span><span class="hl-1">, { </span><span class="hl-0">isReact:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<p>This is also available via the shortcut method of <a href="#moizereact"><code>moize.react</code></a>.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">MemoizedFoo</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">react</span><span class="hl-1">(</span><span class="hl-0">Component</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>The method will do a shallow equal comparison of both <code>props</code> and legacy <code>context</code> of the component based on strict equality. If you want to do a deep equals comparison, set <a href="#isdeepequal"><code>isDeepEqual</code></a> to true.</p>
<p><strong>NOTE</strong>: This will memoize on each instance of the component passed, which is equivalent to <code>PureComponent</code> or <code>React.memo</code>. If you want to
memoize on <em>all</em> instances (which is how this option worked prior to version 6), use the following options:</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">Component</span><span class="hl-1">, { </span><span class="hl-0">isShallowEqual:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">, </span><span class="hl-0">maxArgs:</span><span class="hl-1"> </span><span class="hl-8">2</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<h2 id="isserialized" class="tsd-anchor-link">isSerialized<a href="#isserialized" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><em>defaults to false</em></p>
<p>Serializes the parameters passed into a string and uses this as the key for cache comparison.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">mutableObject</span><span class="hl-1">: { </span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">Record</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">any</span><span class="hl-1">&gt; }) </span><span class="hl-4">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">mutableObject</span><span class="hl-1">.</span><span class="hl-0">property</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">isSerialized:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<p>This is also available via the shortcut method of <a href="#moizeserialize"><code>moize.serialize</code></a>.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>If <code>serialize</code> is combined with either <code>maxArgs</code> or <code>transformArgs</code>, the following order is used:</p>
<ol>
<li>limit by <code>maxArgs</code> (if applicable)</li>
<li>transform by <code>transformArgs</code> (if applicable)</li>
<li>serialize by <code>serializer</code></li>
</ol>
<p><strong>NOTE</strong>: This is much slower than the default key storage, and usually the same requirements can be meet with <code>isDeepEqual</code>, so use at your discretion.</p>
<h2 id="isshallowequal" class="tsd-anchor-link">isShallowEqual<a href="#isshallowequal" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><em>defaults to false</em></p>
<p>Should shallow equality be used to compare cache each key argument.</p>
<pre><code class="ts"><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-7">Arg</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = ({ </span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1"> }: </span><span class="hl-7">Arg</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">isShallowEqual:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">({ </span><span class="hl-0">one:</span><span class="hl-1"> </span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-0">two:</span><span class="hl-1"> </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1"> });</span><br/><span class="hl-6">memoized</span><span class="hl-1">({ </span><span class="hl-0">one:</span><span class="hl-1"> </span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-0">two:</span><span class="hl-1"> </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1"> }); </span><span class="hl-9">// pulls from cache</span>
</code><button type="button">Copy</button></pre>

<p>This is also available via the shortcut method of <a href="#moizeshallow"><code>moize.shallow</code></a></p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">shallow</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="matchesarg" class="tsd-anchor-link">matchesArg<a href="#matchesarg" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><em>defaults to <a href="http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero">SameValueZero</a> equality</em></p>
<p>Custom method used to compare equality of keys for cache purposes by comparing each argument.</p>
<pre><code class="ts"><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-7">Arg</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = ({ </span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1"> }: </span><span class="hl-7">Arg</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">hasOneProperty</span><span class="hl-1"> = (</span><span class="hl-0">cacheKeyArg</span><span class="hl-1">: </span><span class="hl-7">Arg</span><span class="hl-1">, </span><span class="hl-0">keyArg</span><span class="hl-1">: </span><span class="hl-7">Arg</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">Object</span><span class="hl-1">.</span><span class="hl-6">keys</span><span class="hl-1">(</span><span class="hl-0">cacheKeyArg</span><span class="hl-1">).</span><span class="hl-0">length</span><span class="hl-1"> === </span><span class="hl-8">1</span><span class="hl-1"> &amp;&amp; </span><span class="hl-0">Object</span><span class="hl-1">.</span><span class="hl-6">keys</span><span class="hl-1">(</span><span class="hl-0">keyArg</span><span class="hl-1">).</span><span class="hl-0">length</span><span class="hl-1"> === </span><span class="hl-8">1</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">matchesArg:</span><span class="hl-1"> </span><span class="hl-0">hasOneProperty</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">({ </span><span class="hl-0">one:</span><span class="hl-1"> </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1"> };</span><br/><span class="hl-6">memoized</span><span class="hl-1">({ </span><span class="hl-0">two:</span><span class="hl-1"> </span><span class="hl-3">&#39;three&#39;</span><span class="hl-1"> }); </span><span class="hl-9">// pulls from cache</span>
</code><button type="button">Copy</button></pre>

<p>This is also available via the shortcut method of <a href="#moizematchesarg"><code>moize.matchesArg</code></a></p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">matchesArg</span><span class="hl-1">(</span><span class="hl-0">hasOneProperty</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>NOTE</strong>: This comparison is used iteratively on each argument, rather than comparing the two keys as a whole. If you want to compare the key as a whole, you should use <a href="#matcheskey"><code>matchesKey</code></a>.</p>
<h2 id="matcheskey" class="tsd-anchor-link">matchesKey<a href="#matcheskey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Custom method used to compare equality of keys for cache purposes by comparing the entire key.</p>
<pre><code class="ts"><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-7">Arg</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = ({ </span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1"> }: </span><span class="hl-7">Arg</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">isFooEqualAndHasBar</span><span class="hl-1"> = (</span><span class="hl-0">cacheKey</span><span class="hl-1">: [</span><span class="hl-7">Arg</span><span class="hl-1">], </span><span class="hl-0">key</span><span class="hl-1">: [</span><span class="hl-7">Arg</span><span class="hl-1">]) </span><span class="hl-4">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">cacheKey</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">].</span><span class="hl-0">one</span><span class="hl-1"> === </span><span class="hl-0">key</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">].</span><span class="hl-0">one</span><span class="hl-1"> &amp;&amp;</span><br/><span class="hl-1">    </span><span class="hl-0">cacheKey</span><span class="hl-1">[</span><span class="hl-8">1</span><span class="hl-1">].</span><span class="hl-6">hasOwnProperty</span><span class="hl-1">(</span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">) &amp;&amp;</span><br/><span class="hl-1">    </span><span class="hl-0">key</span><span class="hl-1">[</span><span class="hl-8">1</span><span class="hl-1">].</span><span class="hl-6">hasOwnProperty</span><span class="hl-1">(</span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">matchesKey:</span><span class="hl-1"> </span><span class="hl-0">isFooEqualAndHasBar</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">({ </span><span class="hl-0">one:</span><span class="hl-1"> </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1"> }, { </span><span class="hl-0">two:</span><span class="hl-1"> </span><span class="hl-4">null</span><span class="hl-1"> });</span><br/><span class="hl-6">memoized</span><span class="hl-1">({ </span><span class="hl-0">one:</span><span class="hl-1"> </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1"> }, { </span><span class="hl-0">two:</span><span class="hl-1"> </span><span class="hl-3">&#39;three&#39;</span><span class="hl-1"> }); </span><span class="hl-9">// pulls from cache</span>
</code><button type="button">Copy</button></pre>

<p>This is also available via the shortcut method of <a href="#moizematcheskey"><code>moize.matchesKey</code></a></p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">matchesKey</span><span class="hl-1">(</span><span class="hl-0">isFooEqualAndHasBar</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>NOTE</strong>: This comparison uses the two keys as a whole, which is usually less performant than the <code>matchArg</code> comparison used iteratively on each argument. Generally speaking you should use the <a href="#matchesarg"><code>matchArg</code></a> option for equality comparison.</p>
<h2 id="maxage" class="tsd-anchor-link">maxAge<a href="#maxage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The maximum amount of time in milliseconds that you want a computed value to be stored in cache for this method.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">Record</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">any</span><span class="hl-1">&gt;) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">MAX_AGE</span><span class="hl-1"> = </span><span class="hl-8">1000</span><span class="hl-1"> * </span><span class="hl-8">60</span><span class="hl-1"> * </span><span class="hl-8">5</span><span class="hl-1">; </span><span class="hl-9">// five minutes;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">maxAge:</span><span class="hl-1"> </span><span class="hl-5">MAX_AGE</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<p>This is also available via the shortcut method of <a href="#moizemaxage"><code>moize.maxAge</code></a>.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxAge</span><span class="hl-1">(</span><span class="hl-5">MAX_AGE</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>TIP</strong>: A common usage of this is in tandem with <code>isPromise</code> for AJAX calls, and in that scenario the expected behavior is usually to have the <code>maxAge</code> countdown begin upon resolution of the promise. If this is your intended use case, you should also apply the <code>updateExpire</code> option.</p>
<h2 id="maxargs" class="tsd-anchor-link">maxArgs<a href="#maxargs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The maximum number of arguments (starting from the first) used in creating the key for the cache.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">item1</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">item2</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">item3</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">item1</span><span class="hl-1"> + </span><span class="hl-0">item2</span><span class="hl-1"> + </span><span class="hl-0">item3</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">maxArgs:</span><span class="hl-1"> </span><span class="hl-8">2</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">memoize</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;three&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">memoize</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;four&#39;</span><span class="hl-1">); </span><span class="hl-9">// pulls from cache, as the first two args are the same</span>
</code><button type="button">Copy</button></pre>

<p>This is also available via the shortcut method of <a href="#moizemaxargs"><code>moize.maxArgs</code></a>.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxArgs</span><span class="hl-1">(</span><span class="hl-8">2</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>If <code>maxArgs</code> is combined with either <code>serialize</code> or <code>transformArgs</code>, the following order is used:</p>
<ol>
<li>limit by <code>maxArgs</code></li>
<li>transform by <code>transformArgs</code> (if applicable)</li>
<li>serialize by <code>serializer</code> (if applicable)</li>
</ol>
<h2 id="maxsize" class="tsd-anchor-link">maxSize<a href="#maxsize" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><em>defaults to 1</em></p>
<p>The maximum number of values you want stored in cache for this method. Clearance of the cache once the <code>maxSize</code> is reached is on a <a href="https://en.wikipedia.org/wiki/Cache_replacement_policies#Least_Recently_Used_.28LRU.29">Least Recently Used</a> basis.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">maxSize:</span><span class="hl-1"> </span><span class="hl-8">5</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<p>This is also available via the shortcut method of <a href="#moizemaxsize"><code>moize.maxSize</code></a>.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxSize</span><span class="hl-1">(</span><span class="hl-8">5</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="oncacheadd" class="tsd-anchor-link">onCacheAdd<a href="#oncacheadd" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Method to fire when an item has been added to cache. Receives the cache, options, and memoized function as a parameters.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">logCacheKeys</span><span class="hl-1"> = (</span><br/><span class="hl-1">    </span><span class="hl-0">cache</span><span class="hl-1">: </span><span class="hl-7">Cache</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">options</span><span class="hl-1">: </span><span class="hl-7">Options</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">moized</span><span class="hl-1">: </span><span class="hl-7">Moized</span><span class="hl-1">&lt;</span><span class="hl-4">typeof</span><span class="hl-1"> </span><span class="hl-0">fn</span><span class="hl-1">&gt;,</span><br/><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-0">keys</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">moized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">maxSize:</span><span class="hl-1"> </span><span class="hl-8">2</span><span class="hl-1">, </span><span class="hl-0">onCacheAdd:</span><span class="hl-1"> </span><span class="hl-0">logCacheKeys</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">); </span><span class="hl-9">// [[&quot;one&quot;,&quot;two&quot;]]</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">); </span><span class="hl-9">// [[&quot;two&quot;,&quot;one&quot;], [&quot;one&quot;,&quot;two&quot;]]</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>NOTE</strong>: When combined with <code>onCacheChange</code>, this method will always fire first.</p>
<h2 id="oncachechange" class="tsd-anchor-link">onCacheChange<a href="#oncachechange" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Method to fire when an item has been either added to cache, or existing cache was reordered based on a cache hit. Receives the cache, options, and memoized function as a parameters.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">logCacheKeys</span><span class="hl-1"> = (</span><br/><span class="hl-1">    </span><span class="hl-0">cache</span><span class="hl-1">: </span><span class="hl-7">Cache</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">options</span><span class="hl-1">: </span><span class="hl-7">Options</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">moized</span><span class="hl-1">: </span><span class="hl-7">Moized</span><span class="hl-1">&lt;</span><span class="hl-4">typeof</span><span class="hl-1"> </span><span class="hl-0">fn</span><span class="hl-1">&gt;,</span><br/><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-0">keys</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">moized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">maxSize:</span><span class="hl-1"> </span><span class="hl-8">2</span><span class="hl-1">, </span><span class="hl-0">onCacheChange:</span><span class="hl-1"> </span><span class="hl-0">logCacheKeys</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">); </span><span class="hl-9">// [[&quot;one&quot;,&quot;two&quot;]]</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">); </span><span class="hl-9">// [[&quot;two&quot;,&quot;one&quot;], [&quot;one&quot;,&quot;two&quot;]]</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">); </span><span class="hl-9">// [[&quot;one&quot;,&quot;two&quot;], [&quot;two&quot;,&quot;one&quot;]]</span>
</code><button type="button">Copy</button></pre>

<p><strong>NOTE</strong>: When combined with <code>onCacheAdd</code> or <code>onCacheHit</code>, this method will always fire last.</p>
<h2 id="oncachehit" class="tsd-anchor-link">onCacheHit<a href="#oncachehit" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Method to fire when an existing cache item is found. Receives the cache, options, and memoized function as a parameters.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">logCacheKeys</span><span class="hl-1"> = (</span><br/><span class="hl-1">    </span><span class="hl-0">cache</span><span class="hl-1">: </span><span class="hl-7">Cache</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">options</span><span class="hl-1">: </span><span class="hl-7">Options</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">moized</span><span class="hl-1">: </span><span class="hl-7">Moized</span><span class="hl-1">&lt;</span><span class="hl-4">typeof</span><span class="hl-1"> </span><span class="hl-0">fn</span><span class="hl-1">&gt;,</span><br/><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-0">keys</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">moized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">maxSize:</span><span class="hl-1"> </span><span class="hl-8">2</span><span class="hl-1">, </span><span class="hl-0">onCacheHit:</span><span class="hl-1"> </span><span class="hl-0">logCacheKeys</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">); </span><span class="hl-9">// [[&quot;one&quot;,&quot;two&quot;]]</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">); </span><span class="hl-9">// [[&quot;two&quot;,&quot;one&quot;], [&quot;one&quot;,&quot;two&quot;]]</span>
</code><button type="button">Copy</button></pre>

<p><strong>NOTE</strong>: When combined with <code>onCacheChange</code>, this method will always fire first.</p>
<h2 id="onexpire" class="tsd-anchor-link">onExpire<a href="#onexpire" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>A callback that is called when the cached entry expires.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">logKey</span><span class="hl-1"> = (</span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-7">Key</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt;) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">key</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">maxAge:</span><span class="hl-1"> </span><span class="hl-8">10000</span><span class="hl-1">, </span><span class="hl-0">onExpire:</span><span class="hl-1"> </span><span class="hl-0">logKey</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<p>If you return <code>false</code> from this method, it will prevent the key's removal and refresh the expiration in the same vein as <code>updateExpire</code> based on <code>maxAge</code>:</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">;</span><br/><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-0">expirationAttempts</span><span class="hl-1"> = </span><span class="hl-8">0</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">limitExpirationAttempts</span><span class="hl-1"> = (</span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-7">Key</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt;) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">expirationAttempts</span><span class="hl-1"> += </span><span class="hl-8">1</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-0">expirationAttempts</span><span class="hl-1"> &lt; </span><span class="hl-8">2</span><span class="hl-1">;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-0">maxAge:</span><span class="hl-1"> </span><span class="hl-8">10000</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">onExpire:</span><span class="hl-1"> </span><span class="hl-0">limitExpirationAttempts</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">); </span><span class="hl-9">// will expire key after 30 seconds, or 3 expiration attempts</span>
</code><button type="button">Copy</button></pre>

<p><strong>NOTE</strong>: You must set a <a href="#maxage"><code>maxAge</code></a> for this option to take effect.</p>
<h2 id="profilename" class="tsd-anchor-link">profileName<a href="#profilename" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><em>defaults to function name when it exists, or <code>Anonymous {count}</code> otherwise</em></p>
<p>Name to use as unique identifier for the function when collecting statistics.</p>
<pre><code class="ts"><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">collectStats</span><span class="hl-1">();</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">profileName:</span><span class="hl-1"> </span><span class="hl-3">&#39;my fancy identity&#39;</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<p>This is also available via the shortcut method of <a href="#moizeprofile"><code>moize.profile</code></a>.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">profile</span><span class="hl-1">(</span><span class="hl-3">&#39;profile-name&#39;</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>NOTE</strong>: You must be collecting statistics for this option to provide value, as it is the identifier used for statistics collection.</p>
<h2 id="serializer" class="tsd-anchor-link">serializer<a href="#serializer" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><em>defaults to serializeArguments in utils.js</em></p>
<p>Method used in place of the internal serializer when serializing the parameters for cache key comparison. The function accepts a single argument, the <code>Array</code> of <code>args</code>, and must also return an <code>Array</code>.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">customSerializer</span><span class="hl-1"> = (</span><span class="hl-0">args</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">[]) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-5">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">(</span><span class="hl-0">args</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">])];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-0">isSerialized:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">serializer</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>This is also available via the shortcut method of <a href="#moizeserializewith"><code>moize.serializeWith</code></a>.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">serializeWith</span><span class="hl-1">(</span><span class="hl-0">customSerializer</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>NOTE</strong>: You must set <a href="#isserialized"><code>isSerialized</code></a> for this option to take effect.</p>
<h2 id="transformargs" class="tsd-anchor-link">transformArgs<a href="#transformargs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Transform the arguments passed before it is used as a key. The function accepts a single argument, the <code>Array</code> of <code>args</code>, and must also return an <code>Array</code>.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">, </span><span class="hl-0">three</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-0">two</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">three</span><span class="hl-1">,</span><br/><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">ignoreFirstArg</span><span class="hl-1"> = (</span><span class="hl-0">args</span><span class="hl-1">: (</span><span class="hl-7">string</span><span class="hl-1"> | </span><span class="hl-7">null</span><span class="hl-1">)[]) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">args</span><span class="hl-1">.</span><span class="hl-6">slice</span><span class="hl-1">(</span><span class="hl-8">1</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">moized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">transformArgs:</span><span class="hl-1"> </span><span class="hl-0">ignoreFirstArg</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;three&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-4">null</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;three&#39;</span><span class="hl-1">); </span><span class="hl-9">// pulled from cache</span>
</code><button type="button">Copy</button></pre>

<p>This is also available via the shortcut method of <a href="#moizetransformargs"><code>moize.transformArgs</code></a>.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">transformArgs</span><span class="hl-1">(</span><span class="hl-0">argTransformer</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>If <code>transformArgs</code> is combined with either <code>maxArgs</code> or <code>serialize</code>, the following order is used:</p>
<ol>
<li>limit by <code>maxArgs</code> (if applicable)</li>
<li>transform by <code>transformArgs</code></li>
<li>serialize by <code>serializer</code> (if applicable)</li>
</ol>
<h2 id="updatecacheforkey" class="tsd-anchor-link">updateCacheForKey<a href="#updatecacheforkey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>If you want to update the cache for a given key instead of leverage the value currently stored in cache.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">;</span><br/><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-0">lastUpdate</span><span class="hl-1"> = </span><span class="hl-0">Date</span><span class="hl-1">.</span><span class="hl-6">now</span><span class="hl-1">();</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-6">updateCacheForKey</span><span class="hl-1">([</span><span class="hl-0">item</span><span class="hl-1">]: [</span><span class="hl-7">string</span><span class="hl-1">]) {</span><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">now</span><span class="hl-1"> = </span><span class="hl-0">Date</span><span class="hl-1">.</span><span class="hl-6">now</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">last</span><span class="hl-1"> = </span><span class="hl-0">lastUpdated</span><span class="hl-1">;</span><br/><br/><span class="hl-1">        </span><span class="hl-0">lastUpdate</span><span class="hl-1"> = </span><span class="hl-0">now</span><span class="hl-1">;</span><br/><br/><span class="hl-1">        </span><span class="hl-9">// its been more than 5 minutes since last update</span><br/><span class="hl-1">        </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-0">last</span><span class="hl-1"> + </span><span class="hl-8">300000</span><span class="hl-1"> &lt; </span><span class="hl-0">now</span><span class="hl-1">;</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">); </span><span class="hl-9">// pulled from cache</span><br/><br/><span class="hl-9">// 5 minutes later</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">); </span><span class="hl-9">// re-calls method and updates cache</span>
</code><button type="button">Copy</button></pre>

<p>This is also available via the shortcut method of <a href="#moizeupdatecacheforkey"><code>moize.updateCacheForKey</code></a>.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">updateCacheForKey</span><span class="hl-1">(</span><span class="hl-0">shouldCacheUpdate</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="updateexpire" class="tsd-anchor-link">updateExpire<a href="#updateexpire" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>When a <code>maxAge</code> is set, clear the scheduled expiration of the key when that key is retrieved, setting a new expiration based on the most recent retrieval from cache.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">MAX_AGE</span><span class="hl-1"> = </span><span class="hl-8">1000</span><span class="hl-1"> * </span><span class="hl-8">60</span><span class="hl-1"> * </span><span class="hl-8">5</span><span class="hl-1">; </span><span class="hl-9">// five minutes</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, { </span><span class="hl-0">maxAge:</span><span class="hl-1"> </span><span class="hl-5">MAX_AGE</span><span class="hl-1">, </span><span class="hl-0">updateExpire:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-6">setTimeout</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-9">/**</span><br/><span class="hl-9">     * hits cache, which updates the expire to be 5 minutes</span><br/><span class="hl-9">     * from this run instead of the first</span><br/><span class="hl-9">     */</span><br/><span class="hl-1">    </span><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}, </span><span class="hl-8">1000</span><span class="hl-1"> * </span><span class="hl-8">60</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h1 id="usage-with-shortcut-methods" class="tsd-anchor-link">Usage with shortcut methods<a href="#usage-with-shortcut-methods" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><h2 id="moizedeep" class="tsd-anchor-link">moize.deep<a href="#moizedeep" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Pre-applies the <a href="#isdeepequal"><code>isDeepEqual</code></a> option.</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-0">two</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">deep</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="moizeinfinite" class="tsd-anchor-link">moize.infinite<a href="#moizeinfinite" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Pre-applies the <a href="#maxsize"><code>maxSize</code></a> option with <code>Infinity</code>.</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-0">two</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">infinite</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>NOTE</strong>: This mimics default behavior of <code>moize</code> prior to version 6.</p>
<h2 id="moizematchesarg" class="tsd-anchor-link">moize.matchesArg<a href="#moizematchesarg" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Pre-applies the <a href="#matchesarg"><code>matchesArg</code></a> option as a curriable method.</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">isEqualOrFoo</span><span class="hl-1"> = (</span><span class="hl-0">cacheKeyArg</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">keyArg</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">cacheKeyArg</span><span class="hl-1"> === </span><span class="hl-0">keyArg</span><span class="hl-1"> || </span><span class="hl-0">keyArg</span><span class="hl-1"> === </span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-0">two</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">matchesArg</span><span class="hl-1">(</span><span class="hl-0">isEqualOrFoo</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="moizematcheskey" class="tsd-anchor-link">moize.matchesKey<a href="#moizematcheskey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Pre-applies the <a href="#matcheskey"><code>matchesKey</code></a> option as a curriable method.</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-0">two</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">isEqualOrHasFoo</span><span class="hl-1"> = (</span><span class="hl-0">cacheKey</span><span class="hl-1">: </span><span class="hl-7">Key</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt;, </span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-7">Key</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt;) </span><span class="hl-4">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">key</span><span class="hl-1">.</span><span class="hl-6">every</span><span class="hl-1">((</span><span class="hl-0">keyArg</span><span class="hl-1">, </span><span class="hl-0">index</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">keyArg</span><span class="hl-1"> === </span><span class="hl-0">cacheKey</span><span class="hl-1">[</span><span class="hl-0">index</span><span class="hl-1">]) ||</span><br/><span class="hl-1">    </span><span class="hl-0">key</span><span class="hl-1">.</span><span class="hl-6">some</span><span class="hl-1">((</span><span class="hl-0">keyArg</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">keyArg</span><span class="hl-1"> === </span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">matchesKey</span><span class="hl-1">(</span><span class="hl-0">isEqualOrHasFoo</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="moizemaxage" class="tsd-anchor-link">moize.maxAge<a href="#moizemaxage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Pre-applies the <a href="#maxage"><code>maxAge</code></a> option as a curriable method.</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-0">two</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxAge</span><span class="hl-1">(</span><span class="hl-8">5000</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="moizemaxargs" class="tsd-anchor-link">moize.maxArgs<a href="#moizemaxargs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Pre-applies the <a href="#maxargs"><code>maxArgs</code></a> option as a curriable method.</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-0">two</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxArgs</span><span class="hl-1">(</span><span class="hl-8">1</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="moizemaxsize" class="tsd-anchor-link">moize.maxSize<a href="#moizemaxsize" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Pre-applies the <a href="#maxsize"><code>maxSize</code></a> option as a curriable method.</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-0">two</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxSize</span><span class="hl-1">(</span><span class="hl-8">5</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="moizeprofile" class="tsd-anchor-link">moize.profile<a href="#moizeprofile" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Pre-applies the <a href="#profilename"><code>profileName</code></a> option as a curriable method.</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-0">two</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">profile</span><span class="hl-1">(</span><span class="hl-3">&#39;my fancy identity&#39;</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>NOTE</strong>: You must be collecting statistics for this option to provide value, as it is the identifier used for statistics collection.</p>
<h2 id="moizepromise" class="tsd-anchor-link">moize.promise<a href="#moizepromise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Pre-applies the <a href="#ispromise"><code>isPromise</code></a> and <a href="#updateexpire"><code>updateExpire</code></a> options. The <code>updateExpire</code> option does nothing if <a href="#maxage"><code>maxAge</code></a> is not also applied, but ensures that the expiration begins at the resolution of the promise rather than the instantiation of it.</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = </span><span class="hl-4">async</span><span class="hl-1"> (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">Record</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">any</span><span class="hl-1">&gt;) </span><span class="hl-4">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-6">someApiCall</span><span class="hl-1">(</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">);</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">promise</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>NOTE</strong>: If you do not want the promise to update its expiration when the cache is hit, then you should use the <code>isPromise</code> option directly instead.</p>
<h2 id="moizereact" class="tsd-anchor-link">moize.react<a href="#moizereact" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Pre-applies the <a href="#isreact"><code>isReact</code></a>) option for memoizing functional components in <a href="https://github.com/facebook/react">React</a>. <code>Key</code> comparisons are based on a shallow equal comparison of both props and legacy context.</p>
<pre><code class="tsx"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-7">Props</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">Component</span><span class="hl-1"> = ({ </span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1"> }: </span><span class="hl-7">Props</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> (</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;</span><span class="hl-11">div</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-4">{</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-1"> </span><span class="hl-4">{</span><span class="hl-0">two</span><span class="hl-4">}</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;/</span><span class="hl-11">div</span><span class="hl-10">&gt;</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">react</span><span class="hl-1">(</span><span class="hl-0">Component</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>NOTE</strong>: This method will not operate with components made via the <code>class</code> instantiation, as they do not offer the same <a href="https://en.wikipedia.org/wiki/Referential_transparency">referential transparency</a>.</p>
<h2 id="moizeserialize" class="tsd-anchor-link">moize.serialize<a href="#moizeserialize" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Pre-applies the <a href="#isSerialized"><code>isSerialized</code></a> option.</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">Record</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">any</span><span class="hl-1">&gt;, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">Record</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">any</span><span class="hl-1">&gt;) </span><span class="hl-4">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">    </span><span class="hl-0">one</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">two</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>NOTE</strong>: If you want to provide a custom <a href="#serializer"><code>serializer</code></a>, you should use <a href="#moizeserializewith"><code>moize.serializeWith</code></a>:</p>
<pre><code class="ts"><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">serializeWith</span><span class="hl-1">(</span><span class="hl-0">customSerializer</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="moizeserializewith" class="tsd-anchor-link">moize.serializeWith<a href="#moizeserializewith" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Pre-applies the <a href="#isSerialized"><code>isSerialized</code></a> and <a href="#serializer"><code>serializer</code></a> options.</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">Record</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">any</span><span class="hl-1">&gt;, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">Record</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">any</span><span class="hl-1">&gt;) </span><span class="hl-4">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">    </span><span class="hl-0">one</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">two</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">serializeWith</span><span class="hl-1">(</span><span class="hl-5">JSON</span><span class="hl-1">.</span><span class="hl-0">stringify</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>NOTE</strong>: If you want to use the default <a href="#serializer"><code>serializer</code></a>, you should use <a href="#moizeserialize"><code>moize.serialize</code></a>:</p>
<pre><code class="ts"><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">(</span><span class="hl-0">customSerializer</span><span class="hl-1">)(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="moizeshallow" class="tsd-anchor-link">moize.shallow<a href="#moizeshallow" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Pre-applies the <a href="#isshallowequal"><code>isShallowEqual</code></a> option.</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-0">two</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">shallow</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="moizetransformargs" class="tsd-anchor-link">moize.transformArgs<a href="#moizetransformargs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Pre-applies the <a href="#transformargs"><code>transformArgs</code></a> option.</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = ([</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">]: </span><span class="hl-7">string</span><span class="hl-1">[]) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">one</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-0">two</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">];</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">transformArgs</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="moizeupdatecacheforkey" class="tsd-anchor-link">moize.updateCacheForKey<a href="#moizeupdatecacheforkey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Pre-applies the <a href="#updatecacheforkey"><code>updateCacheForKey</code></a> option.</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-0">lastUpdated</span><span class="hl-1"> = </span><span class="hl-0">Date</span><span class="hl-1">.</span><span class="hl-6">now</span><span class="hl-1">();</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">now</span><span class="hl-1"> = </span><span class="hl-0">Date</span><span class="hl-1">.</span><span class="hl-6">now</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">last</span><span class="hl-1"> = </span><span class="hl-0">lastUpdated</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-0">lastUpdate</span><span class="hl-1"> = </span><span class="hl-0">now</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-9">// its been more than 5 minutes since last update</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-0">last</span><span class="hl-1"> + </span><span class="hl-8">300000</span><span class="hl-1"> &lt; </span><span class="hl-0">now</span><span class="hl-1">;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">updateCacheForKey</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h1 id="usemoize-hook" class="tsd-anchor-link">useMoize hook<a href="#usemoize-hook" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>If you are using React 16.8+ and are using hooks, you can easily create a custom <code>useMoize</code> hook for your project:</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">useRef</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;react&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-6">useMoize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, </span><span class="hl-0">args</span><span class="hl-1">, </span><span class="hl-0">options</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">moizedFnRef</span><span class="hl-1"> = </span><span class="hl-6">useRef</span><span class="hl-1">(</span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">, </span><span class="hl-0">options</span><span class="hl-1">));</span><br/><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-0">moizedFnRef</span><span class="hl-1">.</span><span class="hl-6">current</span><span class="hl-1">(...</span><span class="hl-0">args</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Which can then be used as such:</p>
<pre><code class="tsx"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">React</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;react&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">useMoize</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;./moize-hooks&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-6">MyComponent</span><span class="hl-1">({ </span><span class="hl-0">first</span><span class="hl-1">, </span><span class="hl-0">second</span><span class="hl-1">, </span><span class="hl-0">object</span><span class="hl-1"> }) {</span><br/><span class="hl-1">    </span><span class="hl-9">// standard usage</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">sum</span><span class="hl-1"> = </span><span class="hl-6">useMoize</span><span class="hl-1">((</span><span class="hl-0">a</span><span class="hl-1">, </span><span class="hl-0">b</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">a</span><span class="hl-1"> + </span><span class="hl-0">b</span><span class="hl-1">, [</span><span class="hl-0">first</span><span class="hl-1">, </span><span class="hl-0">second</span><span class="hl-1">]);</span><br/><span class="hl-1">    </span><span class="hl-9">// with options</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">deepSum</span><span class="hl-1"> = </span><span class="hl-6">useMoize</span><span class="hl-1">((</span><span class="hl-0">obj</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">obj</span><span class="hl-1">.</span><span class="hl-0">a</span><span class="hl-1"> + </span><span class="hl-0">obj</span><span class="hl-1">.</span><span class="hl-0">b</span><span class="hl-1">, [</span><span class="hl-0">object</span><span class="hl-1">], {</span><br/><span class="hl-1">        </span><span class="hl-0">isDeepEqual:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> (</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">div</span><span class="hl-10">&gt;</span><br/><span class="hl-1">            Sum of </span><span class="hl-4">{</span><span class="hl-0">first</span><span class="hl-4">}</span><span class="hl-1"> and </span><span class="hl-4">{</span><span class="hl-0">second</span><span class="hl-4">}</span><span class="hl-1"> is </span><span class="hl-4">{</span><span class="hl-0">sum</span><span class="hl-4">}</span><span class="hl-1">. Sum of </span><span class="hl-4">{</span><span class="hl-0">object</span><span class="hl-12">.</span><span class="hl-0">a</span><span class="hl-4">}</span><span class="hl-1"> and</span><span class="hl-4">{</span><span class="hl-3">&#39; &#39;</span><span class="hl-4">}</span><br/><span class="hl-1">            </span><span class="hl-4">{</span><span class="hl-0">object</span><span class="hl-12">.</span><span class="hl-0">b</span><span class="hl-4">}</span><span class="hl-1"> is </span><span class="hl-4">{</span><span class="hl-0">deepSum</span><span class="hl-4">}</span><span class="hl-1">.</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;/</span><span class="hl-11">div</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Naturally you can tweak as needed for your project (default options, option-specific hooks, etc).</p>
<p><strong>NOTE</strong>: This is very similar to <a href="https://reactjs.org/docs/hooks-reference.html#usecallback"><code>useCallback</code></a> built-in hook, with two main differences:</p>
<ul>
<li>There is a third parameter passed (the <a href="#configuration-options"><code>options</code></a> passed to <code>moize</code>)</li>
<li>The second argument array is the list of arguments passed to the memoized function</li>
</ul>
<p>In both <code>useCallback</code> and <code>useMemo</code>, the array is a list of <em>dependencies</em> which determine whether the funciton is called. These can be different than the arguments, although in general practice they are equivalent. The decision to use them directly was both for this common use-case reasons, but also because the implementation complexity would have increased substantially if not.</p>
<h1 id="composition" class="tsd-anchor-link">Composition<a href="#composition" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Starting with version <code>2.3.0</code>, you can compose <code>moize</code> methods. This will create a new memoized method with the original function that shallowly merges the options of the two setups. Example:</p>
<pre><code class="tsx"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">Component</span><span class="hl-1"> = (</span><span class="hl-0">props</span><span class="hl-1">: </span><span class="hl-7">Record</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">any</span><span class="hl-1">&gt;) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-10">&lt;</span><span class="hl-11">div</span><span class="hl-1"> </span><span class="hl-4">{</span><span class="hl-1">...</span><span class="hl-0">props</span><span class="hl-4">}</span><span class="hl-1"> </span><span class="hl-10">/&gt;</span><span class="hl-1">;</span><br/><br/><span class="hl-9">// memoizing with react, as since 2.0.0</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">MemoizedFoo</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">react</span><span class="hl-1">(</span><span class="hl-0">Component</span><span class="hl-1">);</span><br/><br/><span class="hl-9">// creating a separately-memoized method that has maxSize of 5</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">LastFiveFoo</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxSize</span><span class="hl-1">(</span><span class="hl-8">5</span><span class="hl-1">)(</span><span class="hl-0">MemoizedFoo</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>You can also create an options-first curriable version of <code>moize</code> if you only pass the options:</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-9">// creates a function that will memoize what is passed</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">limitedSerializedMoize</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">({ </span><span class="hl-0">maxSize:</span><span class="hl-1"> </span><span class="hl-8">5</span><span class="hl-1">, </span><span class="hl-0">serialize:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> });</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">getWord</span><span class="hl-1"> = (</span><span class="hl-0">bird</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-0">bird</span><span class="hl-4">}</span><span class="hl-3"> is the word`</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">moizedGetWord</span><span class="hl-1"> = </span><span class="hl-6">limitedSerializedMoize</span><span class="hl-1">(</span><span class="hl-0">getWord</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>You can also combine all of these options with <code>moize.compose</code> to create <code>moize</code> wrappers with pre-defined options.</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-9">// creates a moizer that will have the options of</span><br/><span class="hl-9">// {isReact: true, maxAge: 5000, maxSize: 5}</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">superLimitedReactMoize</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">compose</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-0">react</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxSize</span><span class="hl-1">(</span><span class="hl-8">5</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxAge</span><span class="hl-1">(</span><span class="hl-8">5000</span><span class="hl-1">),</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h1 id="collecting-statistics" class="tsd-anchor-link">Collecting statistics<a href="#collecting-statistics" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>As-of version 5, you can collect statistics of moize to determine if your cached methods are effective.</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">moize</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;moize&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">collectStats</span><span class="hl-1">();</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">moized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span><br/><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-0">moized</span><span class="hl-1">.</span><span class="hl-6">getStats</span><span class="hl-1">(); </span><span class="hl-9">// {&quot;calls&quot;: 2, &quot;hits&quot;: 1, &quot;usage&quot;: &quot;50%&quot;}</span>
</code><button type="button">Copy</button></pre>

<p><strong>NOTE</strong>: It is recommended not to activate this in production, as it will have a performance decrease.</p>
<h2 id="stats-methods" class="tsd-anchor-link">Stats methods<a href="#stats-methods" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h2 id="clearstats" class="tsd-anchor-link">clearStats<a href="#clearstats" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Cear statistics on <code>moize</code>d functions.</p>
<pre><code class="ts"><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">clearStats</span><span class="hl-1">(); </span><span class="hl-9">// clears all stats</span><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">clearStats</span><span class="hl-1">(</span><span class="hl-3">&#39;profile-name&#39;</span><span class="hl-1">); </span><span class="hl-9">// clears stats only for &#39;profile-name&#39;</span>
</code><button type="button">Copy</button></pre>

<h2 id="collectstats" class="tsd-anchor-link">collectStats<a href="#collectstats" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Set whether collecting statistics on <code>moize</code>d functions.</p>
<pre><code class="ts"><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">collectStats</span><span class="hl-1">(</span><span class="hl-4">true</span><span class="hl-1">); </span><span class="hl-9">// start collecting stats</span><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">collectStats</span><span class="hl-1">(); </span><span class="hl-9">// same as passing true</span><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">collectStats</span><span class="hl-1">(</span><span class="hl-4">false</span><span class="hl-1">); </span><span class="hl-9">// stop collecting stats</span>
</code><button type="button">Copy</button></pre>

<p><strong>NOTE</strong>: If collecting statistics, it is recommended to provide a custom <a href="#profilename"><code>profileName</code></a> or use <a href="#moizeprofile"><code>moize.profile()</code></a> for all memoized functions. This allows easier mapping of resulting statistics to their origin function when it has a common name or is anonymous.</p>
<h2 id="getstatsprofilename" class="tsd-anchor-link">getStats([profileName])<a href="#getstatsprofilename" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Get the statistics for a specific function, or globally.</p>
<pre><code class="ts"><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">collectStats</span><span class="hl-1">();</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">];</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">moized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">otherFn</span><span class="hl-1"> = (</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">[]) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">one</span><span class="hl-1">.</span><span class="hl-6">slice</span><span class="hl-1">(</span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-8">1</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">otherMoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">otherFn</span><span class="hl-1">, { </span><span class="hl-0">profileName:</span><span class="hl-1"> </span><span class="hl-3">&#39;otherMoized&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">moized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-0">moized</span><span class="hl-1">.</span><span class="hl-6">getStats</span><span class="hl-1">(); </span><span class="hl-9">// {&quot;calls&quot;: 2, &quot;hits&quot;: 1, &quot;usage&quot;: &quot;50%&quot;}</span><br/><br/><span class="hl-6">otherMoized</span><span class="hl-1">([</span><span class="hl-3">&#39;three&#39;</span><span class="hl-1">]);</span><br/><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">getStats</span><span class="hl-1">(</span><span class="hl-3">&#39;otherMoized&#39;</span><span class="hl-1">); </span><span class="hl-9">// {&quot;calls&quot;: 1, &quot;hits&quot;: 0, &quot;usage&quot;: &quot;0%&quot;}</span><br/><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">getStats</span><span class="hl-1">();</span><br/><span class="hl-9">/*</span><br/><span class="hl-9"> {</span><br/><span class="hl-9">   &quot;calls&quot;: 3,</span><br/><span class="hl-9">   &quot;hits&quot;: 1,</span><br/><span class="hl-9">   &quot;profiles&quot;: {</span><br/><span class="hl-9">     &quot;fn at Object..src/utils.js (http://localhost:3000/app.js:153:68)&quot;: {</span><br/><span class="hl-9">       &quot;calls&quot;: 2,</span><br/><span class="hl-9">       &quot;hits&quot;: 1,</span><br/><span class="hl-9">       &quot;usage&quot;: &quot;50%&quot;</span><br/><span class="hl-9">     },</span><br/><span class="hl-9">     &quot;otherMoized&quot;: {</span><br/><span class="hl-9">       &quot;calls&quot;: 1,</span><br/><span class="hl-9">       &quot;hits&quot;: 0,</span><br/><span class="hl-9">       &quot;usage&quot;: &quot;0%&quot;</span><br/><span class="hl-9">     }</span><br/><span class="hl-9">   },</span><br/><span class="hl-9">   &quot;usage&quot;: &quot;33.3333%&quot;</span><br/><span class="hl-9"> }</span><br/><span class="hl-9"> */</span>
</code><button type="button">Copy</button></pre>

<h1 id="introspection" class="tsd-anchor-link">Introspection<a href="#introspection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><h2 id="iscollectingstats" class="tsd-anchor-link">isCollectingStats<a href="#iscollectingstats" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Are statistics being collected on memoization usage.</p>
<pre><code class="ts"><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">collectStats</span><span class="hl-1">(</span><span class="hl-4">true</span><span class="hl-1">);</span><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">isCollectingStats</span><span class="hl-1">(); </span><span class="hl-9">// true</span><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">collectStats</span><span class="hl-1">(</span><span class="hl-4">false</span><span class="hl-1">);</span><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">isCollectingStats</span><span class="hl-1">(); </span><span class="hl-9">// false</span>
</code><button type="button">Copy</button></pre>

<h2 id="ismoized" class="tsd-anchor-link">isMoized<a href="#ismoized" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Is the function passed a moized function.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">fn</span><span class="hl-1"> = () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {};</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">moizedFn</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">);</span><br/><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">isMoized</span><span class="hl-1">(</span><span class="hl-0">fn</span><span class="hl-1">); </span><span class="hl-9">// false</span><br/><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">isMoized</span><span class="hl-1">(</span><span class="hl-0">moizedFn</span><span class="hl-1">); </span><span class="hl-9">// true</span>
</code><button type="button">Copy</button></pre>

<h1 id="direct-cache-manipulation" class="tsd-anchor-link">Direct cache manipulation<a href="#direct-cache-manipulation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>The cache is available on the <code>moize</code>d function as a property, and while it is not recommended to modify it directly, that option is available for edge cases.</p>
<h2 id="cache" class="tsd-anchor-link">cache<a href="#cache" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The shape of the <code>cache</code> is as follows:</p>
<pre><code class="ts"><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-7">Cache</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">keys</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">[][];</span><br/><span class="hl-1">    </span><span class="hl-0">size</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">values</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">[];</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<p>Regardless of how the key is transformed, it is always stored as an array (if the value returned is not an array, it is coalesced to one).</p>
<p><strong>NOTE</strong>: The order of <code>keys</code> and <code>values</code> should always align, so be aware when manually manipulating the cache that you need to manually keep in sync any changes to those arrays.</p>
<h2 id="cachesnapshot" class="tsd-anchor-link">cacheSnapshot<a href="#cachesnapshot" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>cache</code> is mutated internally for performance reasons, so logging out the cache at a specific step in the workflow may not give you the information you need. As such, to help with debugging you can request the <code>cacheSnapshot</code>, which has the same shape as the <code>cache</code> but is a shallow clone of each property for persistence.</p>
<p>There are also convenience methods provided on the <code>moize</code>d function which allow for programmatic manipulation of the cache.</p>
<h2 id="addkey-value" class="tsd-anchor-link">add(key, value)<a href="#addkey-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This will manually add the <em>value</em> at <em>key</em> in cache if <em>key</em> does not already exist. <em>key</em> should be an <code>Array</code> of values, meant to reflect the arguments passed to the method.</p>
<pre><code class="ts"><span class="hl-9">// single parameter is straightforward</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">((</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-0">string</span><span class="hl-1">);</span><br/><br/><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">add</span><span class="hl-1">([</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">], </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-9">// pulls from cache</span><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>NOTE</strong>: This will only add <code>key</code>s that do not exist in the cache, and will do nothing if the <code>key</code> already exists. If you want to update keys that already exist, use <a href="#updatekey-value"><code>update</code></a>.</p>
<h2 id="clear" class="tsd-anchor-link">clear()<a href="#clear" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This will clear all values in the cache, resetting it to an empty state.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">((</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">);</span><br/><br/><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">clear</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h2 id="getkey" class="tsd-anchor-link">get(key)<a href="#getkey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Returns the value in cache if the key matches, else returns <code>undefined</code>. <em>key</em> should be an <code>Array</code> of values, meant to reflect the arguments passed to the method.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">((</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">);</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">get</span><span class="hl-1">([</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">])); </span><span class="hl-9">// [&quot;one&quot;,&quot;two&quot;]</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">get</span><span class="hl-1">([</span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;three&#39;</span><span class="hl-1">])); </span><span class="hl-9">// undefined</span>
</code><button type="button">Copy</button></pre>

<h2 id="getstats" class="tsd-anchor-link">getStats()<a href="#getstats" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Returns the statistics for the function.</p>
<pre><code class="ts"><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">collectStats</span><span class="hl-1">();</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">((</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">);</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">getStats</span><span class="hl-1">()); </span><span class="hl-9">// {&quot;calls&quot;: 2, &quot;hits&quot;: 1, &quot;usage&quot;: &quot;50%&quot;}</span>
</code><button type="button">Copy</button></pre>

<p><strong>NOTE</strong>: You must be collecting statistics for this to be populated.</p>
<h2 id="haskey" class="tsd-anchor-link">has(key)<a href="#haskey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This will return <code>true</code> if a cache entry exists for the <em>key</em> passed, else will return <code>false</code>. <em>key</em> should be an <code>Array</code> of values, meant to reflect the arguments passed to the method.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">((</span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">one</span><span class="hl-1">, </span><span class="hl-0">two</span><span class="hl-1">]);</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">has</span><span class="hl-1">([</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">])); </span><span class="hl-9">// true</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">has</span><span class="hl-1">([</span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;three&#39;</span><span class="hl-1">])); </span><span class="hl-9">// false</span>
</code><button type="button">Copy</button></pre>

<h2 id="keys" class="tsd-anchor-link">keys()<a href="#keys" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This will return a list of the current keys in <code>cache</code>.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxSize</span><span class="hl-1">(</span><span class="hl-8">2</span><span class="hl-1">)((</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">any</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">);</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">memoized</span><span class="hl-1">({ </span><span class="hl-0">two:</span><span class="hl-1"> </span><span class="hl-3">&#39;three&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">keys</span><span class="hl-1"> = </span><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">keys</span><span class="hl-1">(); </span><span class="hl-9">// [[&#39;one&#39;], [{two: &#39;three&#39;}]]</span>
</code><button type="button">Copy</button></pre>

<h2 id="removekey" class="tsd-anchor-link">remove(key)<a href="#removekey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This will remove the provided <em>key</em> from cache. <em>key</em> should be an <code>Array</code> of values, meant to reflect the arguments passed to the method.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">((</span><span class="hl-0">item</span><span class="hl-1">: { </span><span class="hl-0">one</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1"> }) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">arg</span><span class="hl-1"> = { </span><span class="hl-0">one:</span><span class="hl-1"> </span><span class="hl-3">&#39;one&#39;</span><span class="hl-1"> };</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-0">arg</span><span class="hl-1">);</span><br/><br/><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">remove</span><span class="hl-1">([</span><span class="hl-0">arg</span><span class="hl-1">]);</span><br/><br/><span class="hl-9">// will re-execute, as it is no longer in cache</span><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-0">arg</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>NOTE</strong>: This will only remove <code>key</code>s that exist in the cache, and will do nothing if the <code>key</code> does not exist.</p>
<h2 id="updatekey-value" class="tsd-anchor-link">update(key, value)<a href="#updatekey-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This will manually update the <em>value</em> at <em>key</em> in cache if <em>key</em> exists. <em>key</em> should be an <code>Array</code> of values, meant to reflect the arguments passed to the method.</p>
<pre><code class="ts"><span class="hl-9">// single parameter is straightforward</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-6">moize</span><span class="hl-1">((</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">item</span><span class="hl-1">);</span><br/><br/><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">add</span><span class="hl-1">([</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">], </span><span class="hl-3">&#39;two&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-9">// pulls from cache</span><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>NOTE</strong>: This will only update <code>key</code>s that exist in the cache, and will do nothing if the <code>key</code> does not exist. If you want to add keys that do not already exist, use <a href="#addkey-value"><code>add</code></a>.</p>
<h2 id="values" class="tsd-anchor-link">values()<a href="#values" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This will return a list of the current values in <code>cache</code>.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">memoized</span><span class="hl-1"> = </span><span class="hl-0">moize</span><span class="hl-1">.</span><span class="hl-6">maxSize</span><span class="hl-1">(</span><span class="hl-8">2</span><span class="hl-1">)((</span><span class="hl-0">item</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1"> | { </span><span class="hl-0">two</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1"> }) </span><span class="hl-4">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">    </span><span class="hl-0">item</span><span class="hl-1">,</span><br/><span class="hl-1">}));</span><br/><br/><span class="hl-6">memoized</span><span class="hl-1">(</span><span class="hl-3">&#39;one&#39;</span><span class="hl-1">);</span><br/><span class="hl-6">memoized</span><span class="hl-1">({ </span><span class="hl-0">two:</span><span class="hl-1"> </span><span class="hl-3">&#39;three&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">values</span><span class="hl-1"> = </span><span class="hl-0">memoized</span><span class="hl-1">.</span><span class="hl-6">values</span><span class="hl-1">(); </span><span class="hl-9">// [{item: &#39;one&#39;}, {item: {two: &#39;three&#39;}}]</span>
</code><button type="button">Copy</button></pre>

<h1 id="benchmarks" class="tsd-anchor-link">Benchmarks<a href="#benchmarks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>All values provided are the number of operations per second calculated by the <a href="https://benchmarkjs.com/">Benchmark suite</a>, where a higher value is better. Each benchmark was performed using the default configuration of the library, with a fibonacci calculation based on a starting parameter of <code>35</code>, using single and multiple parameters with different object types. The results were averaged to determine overall speed across possible usage.</p>
<p><strong>NOTE</strong>: <code>lodash</code>, <code>ramda</code>, and <code>underscore</code> do not support multiple-parameter memoization without use of a <code>resolver</code> function. For consistency in comparison, each use the same <code>resolver</code> that returns the result of <code>JSON.stringify</code> on the arguments.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Overall (average)</th>
<th>Single (average)</th>
<th>Multiple (average)</th>
<th>single primitive</th>
<th>single array</th>
<th>single object</th>
<th>multiple primitive</th>
<th>multiple array</th>
<th>multiple object</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>moize</strong></td>
<td><strong>71,177,801</strong></td>
<td><strong>98,393,482</strong></td>
<td><strong>43,962,121</strong></td>
<td><strong>139,808,786</strong></td>
<td><strong>97,571,202</strong></td>
<td><strong>57,800,460</strong></td>
<td><strong>44,509,528</strong></td>
<td><strong>44,526,039</strong></td>
<td><strong>42,850,796</strong></td>
</tr>
<tr>
<td>lru-memoize</td>
<td>48,391,839</td>
<td>64,270,849</td>
<td>32,512,830</td>
<td>77,863,436</td>
<td>59,876,764</td>
<td>55,072,348</td>
<td>29,917,027</td>
<td>33,308,028</td>
<td>34,313,435</td>
</tr>
<tr>
<td>mem</td>
<td>42,348,320</td>
<td>83,158,473</td>
<td>1,538,166</td>
<td>128,731,510</td>
<td>73,473,478</td>
<td>47,270,433</td>
<td>2,012,120</td>
<td>1,565,253</td>
<td>1,037,126</td>
</tr>
<tr>
<td>fast-memoize</td>
<td>33,145,713</td>
<td>64,942,152</td>
<td>1,349,274</td>
<td>190,677,799</td>
<td>2,149,467</td>
<td>1,999,192</td>
<td>1,718,229</td>
<td>1,297,911</td>
<td>1,031,683</td>
</tr>
<tr>
<td>lodash</td>
<td>25,700,293</td>
<td>49,941,573</td>
<td>1,459,013</td>
<td>67,513,655</td>
<td>48,874,559</td>
<td>33,436,506</td>
<td>1,861,982</td>
<td>1,402,532</td>
<td>1,112,527</td>
</tr>
<tr>
<td>memoizee</td>
<td>21,546,499</td>
<td>27,447,855</td>
<td>15,645,143</td>
<td>29,701,124</td>
<td>27,294,197</td>
<td>25,348,244</td>
<td>15,359,792</td>
<td>15,855,421</td>
<td>15,720,217</td>
</tr>
<tr>
<td>ramda</td>
<td>18,804,380</td>
<td>35,919,033</td>
<td>1,689,727</td>
<td>101,557,928</td>
<td>1,895,956</td>
<td>4,303,215</td>
<td>2,305,025</td>
<td>1,597,131</td>
<td>1,167,025</td>
</tr>
<tr>
<td>memoizerific</td>
<td>6,745,058</td>
<td>7,382,030</td>
<td>6,108,086</td>
<td>8,488,885</td>
<td>6,427,832</td>
<td>7,229,375</td>
<td>5,772,461</td>
<td>6,278,344</td>
<td>6,273,453</td>
</tr>
<tr>
<td>underscore</td>
<td>6,701,695</td>
<td>11,698,265</td>
<td>1,705,126</td>
<td>18,249,423</td>
<td>4,695,658</td>
<td>12,149,714</td>
<td>2,310,412</td>
<td>1,630,769</td>
<td>1,174,197</td>
</tr>
<tr>
<td>addy-osmani</td>
<td>4,926,732</td>
<td>6,370,152</td>
<td>3,483,311</td>
<td>12,506,809</td>
<td>3,568,399</td>
<td>3,035,249</td>
<td>6,898,542</td>
<td>2,009,089</td>
<td>1,542,304</td>
</tr>
</tbody>
</table>
<h1 id="filesize" class="tsd-anchor-link">Filesize<a href="#filesize" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><code>moize</code> is fairly small (~3.86KB when minified and gzipped), however it provides a large number of configuration options to satisfy a number of edge cases. If filesize is a concern, you may consider using <a href="https://github.com/planttheidea/micro-memoize"><code>micro-memoize</code></a>. This is the memoization library that powers <code>moize</code> under-the-hood, and will handle most common use cases at 1/4 the size of <code>moize</code>.</p>
<h1 id="browser-support" class="tsd-anchor-link">Browser support<a href="#browser-support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><ul>
<li>Chrome (all versions)</li>
<li>Firefox (all versions)</li>
<li>Edge (all versions)</li>
<li>Opera 15+</li>
<li>IE 9+</li>
<li>Safari 6+</li>
<li>iOS 8+</li>
<li>Android 4+</li>
</ul>
<h1 id="development" class="tsd-anchor-link">Development<a href="#development" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Standard stuff, clone the repo and <code>npm install</code> dependencies. The npm scripts available:</p>
<ul>
<li><code>benchmark</code> =&gt; run the benchmark suite pitting <code>moize</code> against other libraries in common use-cases</li>
<li><code>benchmark:alternative</code> =&gt; run the benchmark suite for alternative forms of caching</li>
<li><code>benchmark:array</code> =&gt; run the benchmark suite for memoized methods using single and multiple <code>array</code> parameters</li>
<li><code>benchmark:object</code> =&gt; run the benchmark suite for memoized methods using single and multiple <code>object</code> parameters</li>
<li><code>benchmark:primitive</code> =&gt; run the benchmark suite for memoized methods using single and multiple <code>object</code> parameters</li>
<li><code>benchmark:react</code> =&gt; run the benchmark suite for memoized React components</li>
<li><code>build</code> =&gt; run rollup to build the distributed files in <code>dist</code></li>
<li><code>clean:dist</code> =&gt; run <code>rimraf</code> on the <code>dist</code> folder</li>
<li><code>clean:docs</code> =&gt; run <code>rimraf</code> on the <code>docs</code> folder</li>
<li><code>clean:mjs</code> =&gt; run <code>rimraf</code> on the <code>mjs</code> folder</li>
<li><code>copy:mjs</code> =&gt; run <code>clean:mjs</code> and the <code>es-to-mjs</code> script</li>
<li><code>copy:types</code> =&gt; copy internal types to be available for consumer</li>
<li><code>dev</code> =&gt; run webpack dev server to run example app (playground!)</li>
<li><code>dist</code> =&gt; runs <code>clean:dist</code> and <code>build</code></li>
<li><code>docs</code> =&gt; runs <code>clean:docs</code> and builds the docs via <code>jsdoc</code></li>
<li><code>flow</code> =&gt; runs <code>flow check</code> on the files in <code>src</code></li>
<li><code>lint</code> =&gt; runs ESLint against all files in the <code>src</code> folder</li>
<li><code>lint:fix</code> =&gt; runs <code>lint</code>, fixing any errors if possible</li>
<li><code>test</code> =&gt; run <code>jest</code> test functions with <code>NODE_ENV=test</code></li>
<li><code>test:coverage</code> =&gt; run <code>test</code> but with code coverage</li>
<li><code>test:watch</code> =&gt; run <code>test</code>, but with persistent watcher</li>
<li><code>typecheck</code> =&gt; run <code>tsc</code> against source code to validate TypeScript</li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#importing"><span>Importing</span></a><ul><li><a href="#esm-in-browsers"><span>ESM in browsers</span></a></li><li><a href="#esm-in-nodejs"><span>ESM in <wbr/>Node<wbr/>JS</span></a></li><li><a href="#commonjs"><span>Common<wbr/>JS</span></a></li></ul><a href="#usage"><span>Usage</span></a><a href="#configuration-options"><span>Configuration options</span></a><ul><li><a href="#isdeepequal"><span>is<wbr/>Deep<wbr/>Equal</span></a></li><li><a href="#ispromise"><span>is<wbr/>Promise</span></a></li><li><a href="#isreact"><span>is<wbr/>React</span></a></li><li><a href="#isserialized"><span>is<wbr/>Serialized</span></a></li><li><a href="#isshallowequal"><span>is<wbr/>Shallow<wbr/>Equal</span></a></li><li><a href="#matchesarg"><span>matches<wbr/>Arg</span></a></li><li><a href="#matcheskey"><span>matches<wbr/>Key</span></a></li><li><a href="#maxage"><span>max<wbr/>Age</span></a></li><li><a href="#maxargs"><span>max<wbr/>Args</span></a></li><li><a href="#maxsize"><span>max<wbr/>Size</span></a></li><li><a href="#oncacheadd"><span>on<wbr/>Cache<wbr/>Add</span></a></li><li><a href="#oncachechange"><span>on<wbr/>Cache<wbr/>Change</span></a></li><li><a href="#oncachehit"><span>on<wbr/>Cache<wbr/>Hit</span></a></li><li><a href="#onexpire"><span>on<wbr/>Expire</span></a></li><li><a href="#profilename"><span>profile<wbr/>Name</span></a></li><li><a href="#serializer"><span>serializer</span></a></li><li><a href="#transformargs"><span>transform<wbr/>Args</span></a></li><li><a href="#updatecacheforkey"><span>update<wbr/>Cache<wbr/>For<wbr/>Key</span></a></li><li><a href="#updateexpire"><span>update<wbr/>Expire</span></a></li></ul><a href="#usage-with-shortcut-methods"><span>Usage with shortcut methods</span></a><ul><li><a href="#moizedeep"><span>moize.deep</span></a></li><li><a href="#moizeinfinite"><span>moize.infinite</span></a></li><li><a href="#moizematchesarg"><span>moize.matches<wbr/>Arg</span></a></li><li><a href="#moizematcheskey"><span>moize.matches<wbr/>Key</span></a></li><li><a href="#moizemaxage"><span>moize.max<wbr/>Age</span></a></li><li><a href="#moizemaxargs"><span>moize.max<wbr/>Args</span></a></li><li><a href="#moizemaxsize"><span>moize.max<wbr/>Size</span></a></li><li><a href="#moizeprofile"><span>moize.profile</span></a></li><li><a href="#moizepromise"><span>moize.promise</span></a></li><li><a href="#moizereact"><span>moize.react</span></a></li><li><a href="#moizeserialize"><span>moize.serialize</span></a></li><li><a href="#moizeserializewith"><span>moize.serialize<wbr/>With</span></a></li><li><a href="#moizeshallow"><span>moize.shallow</span></a></li><li><a href="#moizetransformargs"><span>moize.transform<wbr/>Args</span></a></li><li><a href="#moizeupdatecacheforkey"><span>moize.update<wbr/>Cache<wbr/>For<wbr/>Key</span></a></li></ul><a href="#usemoize-hook"><span>use<wbr/>Moize hook</span></a><a href="#composition"><span>Composition</span></a><a href="#collecting-statistics"><span>Collecting statistics</span></a><ul><li><a href="#stats-methods"><span>Stats methods</span></a></li><li><a href="#clearstats"><span>clear<wbr/>Stats</span></a></li><li><a href="#collectstats"><span>collect<wbr/>Stats</span></a></li><li><a href="#getstatsprofilename"><span>get<wbr/>Stats([profile<wbr/>Name])</span></a></li></ul><a href="#introspection"><span>Introspection</span></a><ul><li><a href="#iscollectingstats"><span>is<wbr/>Collecting<wbr/>Stats</span></a></li><li><a href="#ismoized"><span>is<wbr/>Moized</span></a></li></ul><a href="#direct-cache-manipulation"><span>Direct cache manipulation</span></a><ul><li><a href="#cache"><span>cache</span></a></li><li><a href="#cachesnapshot"><span>cache<wbr/>Snapshot</span></a></li><li><a href="#addkey-value"><span>add(key, value)</span></a></li><li><a href="#clear"><span>clear()</span></a></li><li><a href="#getkey"><span>get(key)</span></a></li><li><a href="#getstats"><span>get<wbr/>Stats()</span></a></li><li><a href="#haskey"><span>has(key)</span></a></li><li><a href="#keys"><span>keys()</span></a></li><li><a href="#removekey"><span>remove(key)</span></a></li><li><a href="#updatekey-value"><span>update(key, value)</span></a></li><li><a href="#values"><span>values()</span></a></li></ul><a href="#benchmarks"><span>Benchmarks</span></a><a href="#filesize"><span>Filesize</span></a><a href="#browser-support"><span>Browser support</span></a><a href="#development"><span>Development</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">moize</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
